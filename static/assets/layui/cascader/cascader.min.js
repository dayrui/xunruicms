/**
 * 仿element-ui，级联选择器
 * 已实现单选，多选，无关联选择
 * 其他功能：组件禁用、节点禁用、自定义属性、自定义空面板，自定义无选择时的提示、多选标签折叠、回显等操作。
 * author: yixiaco
 */
layui.define(["jquery"],function(q){function n(a,b,c,d){this.data=a;this.cascader=b;this.config=b.config;this.props=b.props;this.level=c;this.parentNode=d;this.icons=b.icons;this._checked=0}function p(a){this.config=h.extend(!0,{elem:"",value:null,options:[],empty:"\u6682\u65e0\u6570\u636e",placeholder:"\u8bf7\u9009\u62e9",disabled:!1,clearable:!1,showAllLevels:!0,collapseTags:!1,minCollapseTagsNumber:1,separator:" / ",filterable:!1,filterMethod:function(a,c){return a.path.some(function(a){return-1!==a.label.indexOf(c)})},debounce:300,beforeFilter:function(a){return!0},extendClass:!1,extendStyle:!1,props:{expandTrigger:"click",multiple:!1,checkStrictly:!1,value:"value",label:"label",children:"children",disabled:"disabled",leaf:"leaf"}},a);this.data={value:null,checkedValue:[],checkedNodePaths:[],nodes:[],activeNode:null};this.showPanel=!1;this.changeEvent=[];this.filtering=!1;this._init()}var h=layui.jquery;n.prototype={constructor:n,get checked(){return this._checked},set checked(a){if(this._checked!==a){this._checked=a;var b=this.value,c=this.cascader,d=this.props.checkStrictly,e=this.leaf,f=c.data.checkedValue.indexOf(b),k=c.data.checkedValue.length;if(a){if(d||e)0===k&&c._setClear(),c.data.checkedValue.push(b),c.data.checkedNodePaths.push(this);this.$checked&&(b=this.$checked.find(".el-checkbox__input"),1===a?(b.removeClass("is-indeterminate"),b.addClass("is-checked")):2===a&&(b.removeClass("is-checked"),b.addClass("is-indeterminate")))}else{if(d||e)c.data.checkedValue.splice(f,1),c.data.checkedNodePaths.splice(f,1);this.$checked&&(b=this.$checked.find(".el-checkbox__input"),b.removeClass("is-checked"),b.removeClass("is-indeterminate"))}k!==c.data.checkedValue.length&&c.change(c.data.checkedValue,c.data.checkedNodePaths)}},childrenNode:void 0,get label(){return this.data[this.props.label]},get value(){return this.data[this.props.value]},get disabled(){return this.data[this.props.disabled]},get children(){return this.data[this.props.children]},get leaf(){var a=this.data[this.props.leaf];return"boolean"===typeof a?a:this.children?0>=this.children.length:!0},get currentValue(){return this.cascader.data.value},get currentCheckedValue(){return this.cascader.data.checkedValue},get path(){var a=this.parentNode;return a?[].concat(a.path,[this]):[this]},get isFiltering(){return this.cascader.isFiltering},get $tag(){var a=this.cascader,b=this.props.checkStrictly,c=this.getPathLabel(this.config.showAllLevels),c=a.get$tag(c,!0),d=this;c.find("i").click(function(c){c.stopPropagation();d.checked=0;b?d._syncTransferCheckStrictlyParent():d._syncTransferParent();a.removeTag(d.value,d)});return c},getPathLabel:function(a){a=this.config.separator;return this.path.map(function(a){return a.label}).join(a)},init:function(){var a=this.props.multiple,b=this.props.checkStrictly,c=this.icons.from,d=this.icons.right,e="",f=this.label;this.leaf||(e=d);this.$li=h('\x3cli role\x3d"menuitem" id\x3d"cascader-menu" tabindex\x3d"-1" class\x3d"el-cascader-node" aria-haspopup\x3d"true" aria-owns\x3d"cascader-menu"\x3e\x3cspan class\x3d"el-cascader-node__label"\x3e'+f+'\x3c/span\x3e\x3ci class\x3d"'+c+" "+e+'"\x3e\x3c/i\x3e\x3c/li\x3e');a||b?!a&&b?this._renderRadioCheckStrictly():a&&!b?this._renderMultiple():a&&b&&this._renderMultipleCheckStrictly():this._renderRadio()},initSuggestionLi:function(){var a=this.getPathLabel();this.$suggestionLi=h('\x3cli tabindex\x3d"-1" class\x3d"el-cascader__suggestion-item"\x3e\x3cspan\x3e'+a+"\x3c/span\x3e\x3c/li\x3e");this._renderFiltering()},bind:function(a){this.init();a.append(this.$li)},bindSuggestion:function(a){this.initSuggestionLi();a.append(this.$suggestionLi)},_renderFiltering:function(){var a=this.$suggestionLi,b=this.value,c=this.icons.from,d=this.icons.ok,e=this,f=this.cascader,k=this.props.multiple,g=this.props.checkStrictly,l=this.parentNode;if(this.disabled)a.addClass("is-disabled");else{var m='\x3ci class\x3d"'+c+" "+d+' el-icon-check"\x3e\x3c/i\x3e';a.click(function(c){c.stopPropagation();k?(-1===e.currentCheckedValue.indexOf(b)?(a.addClass("is-checked"),a.append(m)):(a.removeClass("is-checked"),a.find(".el-icon-check").remove()),e.checked=0===e.checked?1:0,g?e._syncTransferCheckStrictlyParent():e._syncTransferParent()):(e.currentValue!==b&&(g?e._syncRadioCheckStrictly():e._syncRadio(),e.currentValue=b,l.$li&&l.$li.click(),a.addClass("is-checked"),a.append(m)),f.blur(c))});if(k&&-1!==e.currentCheckedValue.indexOf(b)||!k&&e.currentValue===b)a.addClass("is-checked"),a.append(m)}},_renderRadio:function(){var a=this.$li,b=this.value,c=this.icons.from,d=this.icons.ok,e=this.level,f=this.childrenNode,k=this.leaf,g=this,l=this.cascader,m=this.cascader.data.activeNode;this.disabled?a.addClass("is-disabled"):(this._liClick(function(a){a.stopPropagation();g._syncRadio();k&&(g.currentValue=b,l.blur(a));l._appendMenu(f,e+1,g)}),g.currentValue&&m.path.some(function(a){return a.value===b})&&(g.currentValue===b&&a.prepend('\x3ci class\x3d"'+c+" "+d+' el-cascader-node__prefix"\x3e\x3c/i\x3e'),a.addClass("is-active")))},_syncRadio:function(){var a=this.$li,b=this.leaf,c=this.icons.from,d=this.icons.ok;a&&(a.siblings().removeClass("is-active"),a.siblings().find("."+d).remove(),a.addClass("is-active"),b&&this.currentValue!==this.value&&a.prepend('\x3ci class\x3d"'+c+" "+d+' el-cascader-node__prefix"\x3e\x3c/i\x3e'))},_renderRadioCheckStrictly:function(){var a=this.$li,b=this.value,c=this.level,d=this.childrenNode,e=this.leaf,f=this,k=this.cascader,g=k.data.activeNode;a.addClass("is-selectable");var l=h('\x3clabel role\x3d"radio" tabindex\x3d"0" class\x3d"el-radio"\x3e\x3cspan class\x3d"el-radio__input"\x3e\x3cspan class\x3d"el-radio__inner"\x3e\x3c/span\x3e\x3cinput type\x3d"radio" aria-hidden\x3d"true" tabindex\x3d"-1" class\x3d"el-radio__original" value\x3d"'+b+'"\x3e\x3c/span\x3e\x3cspan class\x3d"el-radio__label"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/span\x3e\x3c/label\x3e');this.$radio=l;a.prepend(l);this._liClick(function(b){b.stopPropagation();e||(a.siblings().removeClass("in-active-path"),a.addClass("in-active-path"));k._appendMenu(d,c+1,f)});this.disabled?(l.addClass("is-disabled"),l.find(".el-radio__input").addClass("is-disabled")):(l.click(function(a){a.preventDefault();f._syncRadioCheckStrictly();f.currentValue=b;k._appendMenu(d,c+1,f)}),f.currentValue&&g.path.some(function(a){return a.value===b})&&(f.currentValue===b&&l.find(".el-radio__input").addClass("is-checked"),a.addClass("is-active"),a.addClass("in-checked-path")))},_syncRadioCheckStrictly:function(){var a=this.$radio;this.transferParent(function(a){if(a=a.$li)a.siblings().find(".el-radio__input").removeClass("is-checked"),a.find(".el-radio__input").removeClass("is-checked"),a.siblings().removeClass("in-active-path"),a.siblings().removeClass("is-active"),a.siblings().removeClass("in-checked-path"),a.addClass("in-active-path"),a.addClass("is-active"),a.addClass("in-checked-path")},!0);a&&a.find(".el-radio__input").addClass("is-checked")},transferParent:function(a,b,c){c||(c=this);(this===c&&!b||!1!==(a&&a(this)))&&this.parentNode&&this.parentNode.transferParent(a,b,c)},transferChildren:function(a,b,c){c||(c=this);if(this===c&&!b||!1!==(a&&a(this))){var d=this.getChildren();if(d&&0<d.length)for(var e in d)d[e].transferChildren(a,b,c)}},set currentValue(a){var b=this.cascader;b.data.value!==a&&(b.data.value=a,b.data.activeNode=this,b.change(b.data.value,b.data.activeNode),b._setClear())},_renderMultiple:function(){var a=this.$li,b=this.level,c=this.childrenNode,d=this.leaf,e=this,f=this.cascader,k=this.checked;a.addClass("el-cascader-node");var g=h('\x3clabel class\x3d"el-checkbox"\x3e\x3cspan class\x3d"el-checkbox__input"\x3e\x3cspan class\x3d"el-checkbox__inner"\x3e\x3c/span\x3e\x3cinput type\x3d"checkbox" aria-hidden\x3d"false" class\x3d"el-checkbox__original" value\x3d""\x3e\x3c/span\x3e\x3c/label\x3e');this.$checked=g;a.prepend(g);1===k?this.$checked.find(".el-checkbox__input").addClass("is-checked"):2===k&&this.$checked.find(".el-checkbox__input").addClass("is-indeterminate");this.disabled?(a.addClass("is-disabled"),g.addClass("is-disabled"),g.find(".el-checkbox__input").addClass("is-disabled")):(this._liClick(function(g){g.stopPropagation();d||(a.siblings().removeClass("in-active-path"),a.addClass("in-active-path"));f._appendMenu(c,b+1,e)}),g.click(function(a){a.preventDefault();d?e.checked=0===e.checked?1:0:(e.checked=e.checkedValue(e,0===e.checked),e.transferChildren(function(a){if(a.disabled)return!1;a.checked=e.checkedValue(a,0!==e.checked)}));e._syncTransferParent()}))},checkedValue:function(a,b){if(a.leaf)return b?1:0;var c=!1,d=b;a.transferChildren(function(a){if(a.disabled)return c=!0,!1;0===a.checked&&(d=!0)});return c&&d?2:d?1:0},_renderMultipleCheckStrictly:function(){var a=this.$li,b=this.level,c=this.childrenNode,d=this.leaf,e=this,f=this.cascader,k=this.checked,g=f.data.checkedNodePaths,l=this.value;a.addClass("el-cascader-node is-selectable");var m=h('\x3clabel class\x3d"el-checkbox"\x3e\x3cspan class\x3d"el-checkbox__input"\x3e\x3cspan class\x3d"el-checkbox__inner"\x3e\x3c/span\x3e\x3cinput type\x3d"checkbox" aria-hidden\x3d"false" class\x3d"el-checkbox__original" value\x3d""\x3e\x3c/span\x3e\x3c/label\x3e');this.$checked=m;a.prepend(m);g.some(function(a){return a.path.some(function(a){return a.value===l})})&&(a.addClass("in-checked-path"),1===k&&this.$checked.find(".el-checkbox__input").addClass("is-checked"));this._liClick(function(g){g.stopPropagation();d||(a.siblings().removeClass("in-active-path"),a.addClass("in-active-path"));f._appendMenu(c,b+1,e)});this.disabled?(m.addClass("is-disabled"),m.find(".el-checkbox__input").addClass("is-disabled")):m.click(function(a){a.preventDefault();e.checked=0===e.checked?1:0;e._syncTransferCheckStrictlyParent()})},_syncTransferParent:function(){this.transferParent(function(a){var b;b=a.childrenNode.map(function(a){return a.checked});b=-1!==b.indexOf(2)||-1!==b.indexOf(0)&&-1!==b.indexOf(1)?2:-1!==b.indexOf(1)?1:0;a.checked=b})},_syncTransferCheckStrictlyParent:function(){var a=this.cascader.data.checkedNodePaths;this.transferParent(function(b){var c=b.$li;c&&(a.some(function(a){return a.path.some(function(a){return a.value===b.value})})?c.addClass("in-checked-path"):c.removeClass("in-checked-path"))},!0)},_liClick:function(a){var b=this.leaf,c=this.$li;"click"===this.props.expandTrigger||b?c.click(a):"hover"===this.props.expandTrigger&&c.mouseenter(a)},setChildren:function(a){this.childrenNode=a},getChildren:function(){return this.childrenNode}};p.prototype={constructor:p,get props(){return this.config.props},get isFiltering(){return this.filtering},set isFiltering(a){this.filtering!==a&&(this.filtering=!!a,a=this.$panel,this.filtering?(a.find(".el-cascader-panel").hide(),a.find(".el-cascader__suggestion-panel").show()):(a.find(".el-cascader-panel").show(),a.find(".el-cascader__suggestion-panel").hide(),this.$tagsInput&&this.$tagsInput.val("")))},icons:{from:"layui-icon",down:"layui-icon-down",close:"layui-icon-close",right:"layui-icon-right",ok:"layui-icon-ok"},_init:function(){if(!this.config.elem)throw"\u7f3a\u5c11elem\u8282\u70b9\u9009\u62e9\u5668";this._initInput();this.data.nodes=this.initNodes(this.config.options,0,null);this.config.value&&this.setValue(this.config.value);this._initPanel();var a=this;h(window).scroll(function(){a._resetXY()});h(window).resize(function(){a._resetXY()});this.$div.click(function(b){a.config.disabled||(b.stopPropagation(),a.showPanel?a.blur(b):a.focus(b))})},_resetXY:function(){var a=this.$div,b=a.offset(),c=this.$panel;if(c){var d=h(window).height(),e=h(window).width(),f=c.height(),k=c.width(),g=a.height(),a=a[0].getBoundingClientRect(),l=c.find(".popper__arrow"),e=Math.min(e-a.x-k-5,0);d-(a.top+g)<f&&a.top>f+20?(c.attr("x-placement","top-start"),c.css({top:b.top-20-f+"px",left:b.left+e+"px"})):(c.attr("x-placement","bottom-start"),c.css({top:b.top+g-Math.max(f-(d-a.y-g-15),0)+"px",left:b.left+e+"px"}));l.css("left",35-e+"px")}},get $menus(){return this.$panel&&this.$panel.find(".el-cascader-panel .el-cascader-menu")},_initInput:function(){var a=h(this.config.elem),b=this;null===this.config.value&&a.attr("value")&&(this.config.value=a.attr("value"));var c=this.config.placeholder,d=this.icons.from,e=this.icons.down,f=this.props.multiple,k=this.config.extendClass,g=this.config.extendStyle;this.$div=h('\x3cdiv class\x3d"el-cascader"\x3e\x3c/div\x3e');g&&(g=a.attr("style"))&&this.$div.attr("style",g);k&&(k=a.attr("class"))&&k.split(" ").forEach(function(a){b.$div.addClass(a)});this.$input=h('\x3cdiv class\x3d"el-input el-input--suffix"\x3e\x3cinput type\x3d"text" readonly\x3d"readonly" autocomplete\x3d"off" placeholder\x3d"'+c+'" class\x3d"el-input__inner"\x3e\x3cspan class\x3d"el-input__suffix"\x3e\x3cspan class\x3d"el-input__suffix-inner"\x3e\x3ci class\x3d"el-icon-arrow-down '+d+" "+e+'" style\x3d"font-size: 12px"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');this.$div.append(this.$input);this.$inputRow=this.$input.find(".el-input__inner");f&&(this.$tags=h('\x3cdiv class\x3d"el-cascader__tags"\x3e\x3c!----\x3e\x3c/div\x3e'),this.$div.append(this.$tags));this._initHideElement(a);a.replaceWith(this.$div);this.$icon=this.$input.find("i");this.disabled(this.config.disabled);this._initFilterableInputEvent()},_initHideElement:function(a){var b=a.clone();this.$ec=b;b.hide();a.before(b)},_initFilterableInputEvent:function(){function a(a){var d=this;b&&clearTimeout(b);b=setTimeout(function(){b=null;var c=h(d).val();if(c){if(g.focus(a),"function"===typeof e&&e(c)){g.isFiltering=!0;var l=g.getNodes().filter(function(a){return(a.leaf||k)&&"function"===typeof f&&f(a,c)?!0:!1});g._setSuggestionMenu(l)}}else g.isFiltering=!1},c)}if(this.config.filterable){var b,c=this.config.debounce,d=this.config.placeholder,e=this.config.beforeFilter,f=this.config.filterMethod,k=this.props.checkStrictly,g=this;this.props.multiple?(d=this.$tagsInput=h('\x3cinput type\x3d"text" placeholder\x3d"'+d+'" class\x3d"el-cascader__search-input"\x3e'),this.$tags.append(d),d.on("keydown",a),d.click(function(a){g.isFiltering&&a.stopPropagation()})):(d=this.$inputRow,d.removeAttr("readonly"),d.on("keydown",a),d.click(function(a){g.isFiltering&&a.stopPropagation()}))}},_initPanel:function(){var a=this.$panel;a||(a=this.$panel=h('\x3cdiv class\x3d"el-popper el-cascader__dropdown" style\x3d"position: absolute; z-index: 19891015;display: none;" x-placement\x3d"bottom-start"\x3e\x3cdiv class\x3d"el-cascader-panel"\x3e\x3c/div\x3e\x3cdiv class\x3d"popper__arrow" style\x3d"left: 35px;"\x3e\x3c/div\x3e\x3c/div\x3e'),a.appendTo("body"),this._appendMenu(this.data.nodes,0),a.click(function(a){a.stopPropagation()}),this._initSuggestionPanel())},_appendMenu:function(a,b,c){var d=h('\x3cdiv class\x3d"el-scrollbar el-cascader-menu" role\x3d"menu" id\x3d"cascader-menu"\x3e\x3cdiv class\x3d"el-cascader-menu__wrap el-scrollbar__wrap" style\x3d"margin-bottom: -17px; margin-right: -17px;"\x3e\x3cul class\x3d"el-scrollbar__view el-cascader-menu__list"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');--b;-1!==b?this.$panel.find(".el-cascader-panel .el-cascader-menu:gt("+b+")").remove():this.$panel.find(".el-cascader-panel .el-cascader-menu").remove();c&&c.leaf||(this.$panel.find(".el-cascader-panel").append(d),this._appendLi(d,a),this._initScrollbar(d),this._resetXY())},_appendLi:function(a,b){var c=a.find(".el-cascader-menu__list");b&&0!==b.length?h.each(b,function(a,b){b.bind(c)}):c.append('\x3cdiv class\x3d"el-cascader-menu__empty-text"\x3e'+this.config.empty+"\x3c/div\x3e")},_initSuggestionPanel:function(){if(this.config.filterable){var a=this.$suggestionPanel;a||(a=this.$suggestionPanel=h('\x3cdiv class\x3d"el-cascader__suggestion-panel el-scrollbar" style\x3d"display: none;"\x3e\x3cdiv class\x3d"el-scrollbar__wrap" style\x3d"margin-bottom: -17px; margin-right: -17px;"\x3e\x3cul class\x3d"el-scrollbar__view el-cascader__suggestion-list" style\x3d"min-width: 222px;"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e'),this.$panel.find(".popper__arrow").before(a),a.click(function(a){a.stopPropagation()}))}},_setSuggestionMenu:function(a){var b=this.$suggestionPanel,c=b.find(".el-cascader__suggestion-list");c.empty();b.find(".el-scrollbar__bar").remove();a&&0!==a.length?(h.each(a,function(a,b){b.bindSuggestion(c)}),this._initScrollbar(b),this._resetXY()):c.append('\x3cli class\x3d"el-cascader__empty-text"\x3e\u65e0\u5339\u914d\u6570\u636e\x3c/li\x3e')},initNodes:function(a,b,c){var d=[],e;for(e in a){var f=new n(a[e],this,b,c);d.push(f);f.children&&0<f.children.length&&f.setChildren(this.initNodes(f.children,b+1,f))}return d},setValue:function(a){if(a){(this.data.value||0<this.data.checkedValue.length)&&this.clearCheckedNodes();var b=this.getNodes(this.data.nodes),c=this.props.checkStrictly;this.props.multiple?b.forEach(function(b){var d=b.leaf;-1!==a.indexOf(b.value)&&(c||d)&&(b.checked=1,c||b._syncTransferParent())}):(b=b.filter(function(b){var d=b.leaf;return(c||d)&&b.value==a?!0:!1}),0<b.length&&(b=b[0],this.data.value=b.value,this.data.activeNode=b,this.change(this.data.value,this.data.activeNode),this._setClear()))}},getNodes:function(a,b){b||(b=[]);a||(a=this.data.nodes);var c=this;a.forEach(function(a){b.push(a);(a=a.getChildren())&&c.getNodes(a,b)});return b},_initScrollbar:function(a){function b(b){1>g&&(d.css("height",100*g+"%"),d.css("transform","translateY("+b.scrollTop()/a.height()*100+"%)"));1>l&&(e.css("width",100*l+"%"),e.css("transform","translateY("+b.scrollLeft()/a.width()*100+"%)"))}var c=h('\x3cdiv class\x3d"el-scrollbar__bar is-onhoriztal"\x3e\x3cdiv class\x3d"el-scrollbar__thumb" style\x3d"transform: translateX(0%);"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"el-scrollbar__bar is-vertical"\x3e\x3cdiv class\x3d"el-scrollbar__thumb" style\x3d"transform: translateY(0%);"\x3e\x3c/div\x3e\x3c/div\x3e');a.append(c);var d=h(c[1]).find(".el-scrollbar__thumb"),e=h(c[0]).find(".el-scrollbar__thumb"),f=a.find(".el-scrollbar__wrap"),c=this.$panel,k=a.find("li"),g=(Math.max(c.height(),a.height())-6)/(k.height()*k.length),l=c.width()/k.width();d.mousedown(function(a){a.stopImmediatePropagation();a.stopPropagation();var b=function(){return!1};h(document).bind("selectstart",b);var c=a.clientY,d=f.scrollTop(),e=function(a){a.stopImmediatePropagation();f.scrollTop(d+(a.clientY-c)/g)};h(document).bind("mousemove",e);h(document).one("mouseup",function(a){a.stopPropagation();a.stopImmediatePropagation();h(document).off("mousemove",e);h(document).off("selectstart",b)})});f.scroll(function(){b(h(this))});b(f)},_fillingPath:function(){var a=this.config.showAllLevels,b=this.config.separator,c=this.config.collapseTags,d=this.$inputRow,e=this.config.placeholder,f=this;if(this.props.multiple){this.$tags.find(".el-tag").remove();var k=this.$tagsInput;d.css("height","");a=this.data.checkedNodePaths;b=Math.max(this.config.minCollapseTagsNumber,1);if(0<a.length){var g=[],h=a;c&&(h=a.slice(0,Math.min(a.length,b)));h.forEach(function(a){g.push(a.$tag)});c&&a.length>b&&g.push(f.get$tag("+ "+(a.length-b),!1));g.forEach(function(a){k?k.before(a):f.$tags.append(a)})}c=f.$tags.height();b=d.height();c>b&&d.css("height",c+4+"px");this._resetXY();0<a.length?(d.removeAttr("placeholder"),k&&k.removeAttr("placeholder",e)):(d.attr("placeholder",e),k&&k.attr("placeholder",e))}else e=(d=this.data.activeNode)&&d.path||[],a?this._$inputRowSetValue(e.map(function(a){return a.label}).join(b)):this._$inputRowSetValue(d&&d.label||"")},_$inputRowSetValue:function(a){a=a||"";var b=this.$inputRow;b.attr("value",a);b.val(a)},get$tag:function(a,b){var c=this.icons.from,d=this.icons.close;return h('\x3cspan class\x3d"el-tag el-tag--info el-tag--small el-tag--light"\x3e\x3cspan\x3e'+a+"\x3c/span\x3e"+(b?'\x3ci class\x3d"el-tag__close el-icon-close '+c+" "+d+'"\x3e\x3c/i\x3e':"")+"\x3c/span\x3e")},_setClear:function(){if(this.config.clearable){var a=function(){b.$icon.removeClass(b.icons.close);b.$icon.addClass(b.icons.down)},b=this;b.$div.mouseenter(function(){b.$icon.removeClass(b.icons.down);b.$icon.addClass(b.icons.close)});b.$div.mouseleave(function(){a()});b.$icon.one("click",function(c){c.stopPropagation();b.blur(c);b.clearCheckedNodes();a();b.$icon.off("mouseenter");b.$div.off("mouseenter");b.$div.off("mouseleave")})}},disabled:function(a){this.config.disabled=!!a;this.$input.attr("disabled",this.config.disabled?"disabled":"");this.config.disabled?(this.$div.addClass("is-disabled"),this.$div.find(".el-input--suffix").addClass("is-disabled")):(this.$div.removeClass("is-disabled"),this.$div.find(".el-input--suffix").removeClass("is-disabled"))},change:function(a,b){this.props.multiple?a&&0<a.length?this.$ec.attr("value",JSON.stringify(a)):this.$ec.removeAttr("value"):this.$ec.attr("value",a||"");this._fillingPath();this.changeEvent.forEach(function(c){"function"===typeof c&&c(a,b)})},blur:function(a){this.showPanel=!1;this.$div.find(".layui-icon-down").removeClass("is-reverse");this.$panel.slideUp(100);this.visibleChange(!1);this.$input.removeClass("is-focus");this.config.filterable&&(this.isFiltering=!1,this._fillingPath())},focus:function(a){this.showPanel=!0;var b=this;h(document).one("click",function(){b.blur(a)});this._resetXY();this.$div.find(".layui-icon-down").addClass("is-reverse");this.$panel.slideDown(200);this.visibleChange(!0);this.$input.addClass("is-focus")},visibleChange:function(a){},removeTag:function(a,b){},getCheckedValues:function(){return this.props.multiple?this.data.checkedValue:this.data.value},getCheckedNodes:function(){return this.props.multiple?this.data.checkedNodePaths:this.data.activeNode},clearCheckedNodes:function(){this.data.value=null;this.data.activeNode=null;this.data.checkedValue=[];this.data.checkedNodePaths=[];var a=this.props.multiple,b=this.$menus;b&&(b=h(b[b.length-1]).find("li"),a?this.change(this.data.checkedValue,[]):(b.find("."+this.icons.ok).remove(),b.removeClass("is-active"),this.change(this.data.value,null)),this.$panel.find(".is-checked").removeClass("is-checked"),this.$panel.find(".in-checked-path").removeClass("in-checked-path"),b.removeClass("in-active-path"),this.getNodes().forEach(function(a){a.checked=0}))}};var r=function(){var a=this;return{setValue:function(b){a.setValue(b)},change:function(b){a.changeEvent.push(b)},disabled:function(b){a.disabled.call(a,b)},blur:function(){a.blur.call(a)},focus:function(){a.focus.call(a)},getCheckedNodes:function(){return a.getCheckedNodes.call(a)},getCheckedValues:function(){return a.getCheckedValues.call(a)},clearCheckedNodes:function(){a.clearCheckedNodes.call(a)}}};q("layCascader",function(a){a=new p(a);return r.call(a)})});