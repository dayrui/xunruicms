/**
 处理整个主题和核心功能的核心脚本
 **/
var App=function(){var d=!1,f=[],a=function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(a){100<$(this).scrollTop()?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)}):$(window).scroll(function(){100<$(this).scrollTop()?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)});$(".scroll-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return!1})},b=function(){for(var a=0;a<f.length;a++)f[a].call()},c=function(){var a;$(window).resize(function(){a&&clearTimeout(a);a=setTimeout(function(){b()},50)})},g=function(){$("body").on("click",".portlet \x3e .portlet-title .fullscreen",function(a){a.preventDefault();a=$(this).closest(".portlet");if(a.hasClass("portlet-fullscreen"))$(this).removeClass("on"),a.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),a.children(".portlet-body").css("height","auto");else{var c=App.getViewPort().height-a.children(".portlet-title").outerHeight()-parseInt(a.children(".portlet-body").css("padding-top"))-parseInt(a.children(".portlet-body").css("padding-bottom"));$(this).addClass("on");a.addClass("portlet-fullscreen");$("body").addClass("page-portlet-fullscreen");a.children(".portlet-body").css("height",c)}})},k=function(){$("body").on("click",".md-checkbox \x3e label, .md-radio \x3e label",function(){var a=$(this),c=$(this).children("span:first-child");c.addClass("inc");var b=c.clone(!0);c.before(b);$("."+c.attr("class")+":last",a).remove()});if($("body").hasClass("page-md")){var a,c,b,d,k;$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(g){a=$(this);0==a.find(".md-click-circle").length&&a.prepend("\x3cspan class\x3d'md-click-circle'\x3e\x3c/span\x3e");c=a.find(".md-click-circle");c.removeClass("md-click-animate");c.height()||c.width()||(b=Math.max(a.outerWidth(),a.outerHeight()),c.css({height:b,width:b}));d=g.pageX-a.offset().left-c.width()/2;k=g.pageY-a.offset().top-c.height()/2;c.css({top:k+"px",left:d+"px"}).addClass("md-click-animate");setTimeout(function(){c.remove()},1E3)})}var g=function(a){""!=a.val()?a.addClass("edited"):a.removeClass("edited")};$("body").on("keydown",".form-md-floating-label .form-control",function(a){g($(this))});$("body").on("blur",".form-md-floating-label .form-control",function(a){g($(this))});$(".form-md-floating-label .form-control").each(function(){0<$(this).val().length&&$(this).addClass("edited")})},h=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},n=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(a){App.scrollTo($(a.target))})},p=function(){if(encodeURI(location.hash)){var a=encodeURI(location.hash.substr(1));$('a[href\x3d"#'+a+'"]').parents(".tab-pane:hidden").each(function(){var a=$(this).attr("id");$('a[href\x3d"#'+a+'"]').click()});$('a[href\x3d"#'+a+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'\x3ci class\x3d"fa fa-ellipsis-v"\x3e\x3c/i\x3e\x26nbsp;\x3ci class\x3d"fa fa-angle-down"\x3e\x3c/i\x3e'})},q=function(){$(".tooltips").tooltip();$(".portlet \x3e .portlet-title .fullscreen").tooltip({trigger:"hover",container:"body",title:"Fullscreen"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .reload").tooltip({trigger:"hover",container:"body",title:"Reload"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .remove").tooltip({trigger:"hover",container:"body",title:"Remove"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .config").tooltip({trigger:"hover",container:"body",title:"Settings"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .collapse, .portlet \x3e .portlet-title \x3e .tools \x3e .expand").tooltip({trigger:"hover",container:"body",title:"Collapse/Expand"})},r=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(a){a.stopPropagation()})},m=function(){$('[data-hover\x3d"dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover();$(this).addClass("hover-initialized")})},l,t=function(){$(".popovers").popover();$(document).on("click.bs.popover.data-api",function(a){l&&l.popover("hide")})},u=function(){$("[data-auto-height]").each(function(){var a=$(this),c=$("[data-height]",a),b=0,d=a.attr("data-mode"),g=parseInt(a.attr("data-offset")?a.attr("data-offset"):0);c.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var a="base-height"==d?$(this).outerHeight():$(this).outerHeight(!0);a>b&&(b=a)});b+=g;c.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",b):$(this).css("min-height",b)});a.attr("data-related")&&$(a.attr("data-related")).css("height",a.height())})};return{init:function(){"rtl"===$("body").css("direction")&&(d=!0);c();a();k();h();App.initSlimScroll(".scroller");g();r();p();q();t();n();"function"==typeof autosize&&autosize(document.querySelector("textarea.autosizeme"));$().counterUp&&$("[data-counter\x3d'counterup']").counterUp({delay:10,time:1E3});this.addResizeHandler(u)},initAjax:function(){h();m();App.initSlimScroll(".scroller");r();q();t();n()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(a){l=a},addResizeHandler:function(a){f.push(a)},runResizeHandlers:function(){b()},scrollTo:function(a,c){var b=a&&0<a.length?a.offset().top:0;a&&($("body").hasClass("page-header-fixed")?b-=$(".page-header").height():$("body").hasClass("page-header-top-fixed")?b-=$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(b-=$(".page-header-menu").height()),b+=c?c:-1*a.height());$("html,body").animate({scrollTop:b},"slow")},initSlimScroll:function(a){$().slimScroll&&$(a).each(function(){if(!$(this).attr("data-initialized")){var a;a=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height");$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:d?"left":"right",height:a,alwaysVisible:"1"==$(this).attr("data-always-visible")?!0:!1,railVisible:"1"==$(this).attr("data-rail-visible")?!0:!1,disableFadeOut:!0});$(this).attr("data-initialized","1")}})},destroySlimScroll:function(a){$().slimScroll&&$(a).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized");$(this).removeAttr("style");var a={};$(this).attr("data-handle-color")&&(a["data-handle-color"]=$(this).attr("data-handle-color"));$(this).attr("data-wrapper-class")&&(a["data-wrapper-class"]=$(this).attr("data-wrapper-class"));$(this).attr("data-rail-color")&&(a["data-rail-color"]=$(this).attr("data-rail-color"));$(this).attr("data-always-visible")&&(a["data-always-visible"]=$(this).attr("data-always-visible"));$(this).attr("data-rail-visible")&&(a["data-rail-visible"]=$(this).attr("data-rail-visible"));$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var c=$(this);$.each(a,function(a,b){c.attr(a,b)})}})},scrollTop:function(){App.scrollTo()},getActualVal:function(a){a=$(a);return a.val()===a.attr("placeholder")?"":a.val()},getURLParameter:function(a){var c,b,d=window.location.search.substring(1).split("\x26");for(c=0;c<d.length;c++)if(b=d[c].split("\x3d"),b[0]==a)return unescape(b[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(v){return!1}},getViewPort:function(){var a=window,c="inner";"innerWidth"in window||(c="client",a=document.documentElement||document.body);return{width:a[c+"Width"],height:a[c+"Height"]}},getUniqueID:function(a){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isIE8:function(){return!1},isIE9:function(){return!1},isRTL:function(){return d},isAngularJsApp:function(){return"undefined"==typeof angular?!1:!0},getResponsiveBreakpoint:function(a){var c={xs:480,sm:768,md:992,lg:1200};return c[a]?c[a]:0}}}();jQuery(document).ready(function(){App.init()});var Layout=function(){var d=App.getResponsiveBreakpoint("md"),f=function(){},a=function(){$(".page-sidebar-mobile-offcanvas .responsive-toggler").click(function(){$("body").toggleClass("page-sidebar-mobile-offcanvas-open");e.preventDefault();e.stopPropagation()});if($("body").hasClass("page-sidebar-mobile-offcanvas"))$(document).on("click",function(a){$("body").hasClass("page-sidebar-mobile-offcanvas-open")&&0===$(a.target).closest(".page-sidebar-mobile-offcanvas .responsive-toggler").length&&0===$(a.target).closest(".page-sidebar-wrapper").length&&($("body").removeClass("page-sidebar-mobile-offcanvas-open"),a.preventDefault(),a.stopPropagation())});$(".page-sidebar-menu").on("click","li \x3e a.nav-toggle, li \x3e a \x3e span.nav-toggle",function(a){var c=$(this).closest(".nav-item").children(".nav-link");if(!(App.getViewPort().width>=d&&!$(".page-sidebar-menu").attr("data-initialized")&&$("body").hasClass("page-sidebar-closed")&&1===c.parent("li").parent(".page-sidebar-menu").length)){var b=c.next().hasClass("sub-menu");if(!(App.getViewPort().width>=d&&1===c.parents(".page-sidebar-menu-hover-submenu").length))if(!1===b)App.getViewPort().width<d&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click();else{var g=c.parent().parent(),k=$(".page-sidebar-menu"),f=c.next(),m=k.data("auto-scroll"),l=parseInt(k.data("slide-speed"));k.data("keep-expanded")||(g.children("li.open").children("a").children(".arrow").removeClass("open"),g.children("li.open").children(".sub-menu:not(.always-open)").slideUp(l),g.children("li.open").removeClass("open"));f.is(":visible")?($(".arrow",c).removeClass("open"),c.parent().removeClass("open"),f.slideUp(l,function(){!0===m&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?k.slimScroll({scrollTo:c.position().top}):App.scrollTo(c,-200))})):b&&($(".arrow",c).addClass("open"),c.parent().addClass("open"),f.slideDown(l,function(){!0===m&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?k.slimScroll({scrollTo:c.position().top}):App.scrollTo(c,-200))}));a.preventDefault()}}});if(App.isAngularJsApp())$(".page-sidebar-menu li \x3e a").on("click",function(a){App.getViewPort().width<d&&!1===$(this).next().hasClass("sub-menu")&&$(".page-header .responsive-toggler").click()});$(".page-sidebar").on("click"," li \x3e a.ajaxify",function(a){});$(".page-content").on("click",".ajaxify",function(a){});$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()});$(".page-sidebar").on("click",".sidebar-search .remove",function(a){a.preventDefault();$(".sidebar-search").removeClass("open")});$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(a){if(13==a.which)return dr_search_help(),!1});$(".sidebar-search .submit").on("click",function(a){dr_search_help()});0!==$(".sidebar-search").length&&($(".sidebar-search .input-group").on("click",function(a){a.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},b=function(){var a=App.getViewPort().height-$(".page-header").outerHeight(!0);$("body").hasClass("page-footer-fixed")&&(a-=$(".page-footer").outerHeight());return a},c=function(){var a=$(".page-sidebar-menu");0!==$(".page-sidebar-fixed").length&&App.getViewPort().width>=d&&!$("body").hasClass("page-sidebar-menu-not-fixed")&&(a.attr("data-height",b()),App.destroySlimScroll(a),App.initSlimScroll(a))},g=function(){if("undefined"!=typeof is_min&&1==is_min){var a=$("body");$.cookie&&"1"===$.cookie("sidebar_closed")&&App.getViewPort().width>=d&&($("body").addClass("page-sidebar-closed"),$(".page-sidebar-menu").addClass("page-sidebar-menu-closed"));$("body").on("click",".sidebar-toggler",function(c){c=$(".page-sidebar");var b=$(".page-sidebar-menu");$(".sidebar-search",c).removeClass("open");a.hasClass("page-sidebar-closed")?(a.removeClass("page-sidebar-closed"),b.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(a.addClass("page-sidebar-closed"),b.addClass("page-sidebar-menu-closed"),a.hasClass("page-sidebar-fixed")&&b.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1"));$(window).trigger("resize")})}};return{initSidebar:function(){c();a();g();App.addResizeHandler(c)},initContent:function(){App.addResizeHandler(f)},init:function(){this.initSidebar();this.initContent()},fixContentHeight:function(){},initFixedSidebar:function(){c()}}}();!1===App.isAngularJsApp()&&jQuery(document).ready(function(){Layout.init()});function dr_show_member(d){1==is_mobile_cms?width=height="90%":(width="50%",height="70%");d=admin_file+"?c\x3dapi\x26m\x3dmember\x26name\x3d"+$("#dr_"+d).val();layer.open({type:2,title:'\x3ci class\x3d"fa fa-user"\x3e\x3c/i\x3e '+lang.member,shadeClose:!0,shade:0,scrollbar:!1,area:[width,width],success:function(d,a){var b=layer.getChildFrame("body",a),b=$(b).html();0<b.indexOf('"code":0')&&150>b.length&&(b=JSON.parse(b),layer.close(a),dr_tips(0,b.msg))},content:d+"\x26is_ajax\x3d1"})}jQuery(document).ready(function(){$(".onloading").click(function(){layer.load(2,{time:5E3})});$(".fc_member_show").click(function(){var a=$(this).attr("uid"),b=$(this).attr("member"),a=admin_file+"?c\x3dapi\x26m\x3dmember\x26name\x3d"+b+"\x26uid\x3d"+a;1==is_mobile_cms?width=height="90%":(width="50%",height="70%");layer.open({type:2,title:'\x3ci class\x3d"fa fa-user"\x3e\x3c/i\x3e '+lang.member,shadeClose:!0,shade:0,area:[width,width],success:function(a,b){var c=layer.getChildFrame("body",b),c=$(c).html();0<c.indexOf('"code":0')&&150>c.length&&(c=JSON.parse(c),layer.close(b),dr_tips(0,c.msg))},content:a+"\x26is_ajax\x3d1"})});$(".table td,.table th").click(function(){var a=$(this);if(1==dr_isEllipsis(a[0])){var b=a.html();-1!=b.indexOf("checkbox")||-1!=b.indexOf("\x3cinput")||-1==b.indexOf('class\x3d"btn')&&-1!=b.indexOf('href\x3d"')||layer.tips(b,a,{tips:[1,"#fff"],time:5E3})}});if("undefined"!=typeof is_admin&&1==is_admin){var d,f=!1;window.onunloadcancel=function(){clearTimeout(d)};window.onbeforeunload=function(){if(f)return setTimeout(function(){d=setTimeout(onunloadcancel,0)},0),lang.unloadtips};$("[type\x3d'submit'], [type\x3d'button']").click(function(){f=!1});$("select").change(function(){f=!0});$(document).keydown(function(a){if(40<=a.keyCode||0==a.keyCode)f=!0;if(16==a.keyCode||82==a.keyCode||91==a.keyCode)f=!1})}900>$(document).width()?($(".fc-all-menu-top").remove(),$(".fc-mini-menu-top").show(),$(".fc-list-select button").each(function(){var a=$(this).html();re=new RegExp(/<i class=\"(.+)\"(.+)/i);re.test(a)&&(a=a.match(re),$(this).html('\x3ci class\x3d"'+a[1]+'"\x3e\x3c/i\x3e'),$(this).attr("title",a[2].replace("\x3e\x3c/i\x3e ","")))}),$('a[data-toggle\x3d"tab"]').each(function(){var a=$(this).html();re=new RegExp(/<i class=\"(.+)\"(.+)/i);re.test(a)&&(a=a.match(re),$(this).html('\x3ci class\x3d"'+a[1]+'"\x3e\x3c/i\x3e'),$(this).attr("title",a[2].replace("\x3e\x3c/i\x3e ","")))}),$(".my-top-left").html('\x3cdiv class\x3d"fc-mini-logo"\x3e'+$(".page-header-inner .page-logo").html()+"\x3c/div\x3e")):($(".fc-all-menu-top").show(),$(".fc-mini-menu-top").remove())});function dr_admin_menu_ajax(d,f){var a=layer.load(2,{shade:[.3,"#fff"],time:1E4});$.ajax({type:"GET",dataType:"json",url:d,success:function(b){layer.close(a);dr_tips(b.code,b.msg);1!=b.code||f||setTimeout("window.location.reload(true)",2E3)},error:function(a,c,d){dr_ajax_alert_error(a,c,d,this)}})}function dr_update_cache(d,f){dr_update_cache_all()}function dr_load_ajax(d,f,a){layer.confirm(d,{icon:3,shade:0,title:lang.ts,btn:[lang.ok,lang.esc]},function(b){layer.close(b);b=layer.load(2,{shade:[.3,"#fff"],time:5E3});$.ajax({type:"GET",dataType:"json",url:f,success:function(c){layer.close(b);dr_tips(c.code,c.msg);1==a&&0<c.code&&setTimeout("window.location.reload(true)",2E3)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})})}function dr_install_confirm(d){"undefined"!=typeof is_oem_cms_down&&is_oem_cms_down?(window.opener=null,window.open("","_self"),window.close(),alert("\u8bf7\u5173\u95ed\u5f53\u524d\u7a97\u53e3")):layer.confirm("\u786e\u5b9a\u8981\u5237\u65b0\u6574\u4e2a\u540e\u53f0\u5417\uff1f",{icon:3,shade:0,title:lang.ts,btn:[dr_lang("\u5237\u65b0\u540e\u53f0"),dr_lang("\u76f4\u63a5\u8fdb\u5165")]},function(f){layer.close(f);parent.location.href=admin_file+"?go\x3d"+encodeURIComponent(d)},function(f){layer.close(f);d?window.location.href=d:window.location.reload(!0)})}function dr_install_app(d){layer.confirm("\u5f53\u60a8\u5728\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5b98\u65b9\u4e0d\u4fdd\u8bc1\u5b83\u7684\u5408\u6cd5\u6027\u3001\u5b89\u5168\u6027\u3001\u5b8c\u6574\u6027\u3001\u771f\u5b9e\u6027\u6216\u54c1\u8d28\u7b49\uff0c\u8bf7\u7528\u6237\u81ea\u884c\u5224\u65ad\u662f\u5426\u5b89\u88c5\u5e76\u627f\u62c5\u6240\u6709\u98ce\u9669\u3002",{shade:0,title:"\u514d\u8d23\u58f0\u660e",btn:["\u5b89\u88c5","\u53d6\u6d88"]},function(f){f=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:d,success:function(a){layer.close(f);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,b,c,this)}})},function(d){})}function dr_install_module_select(d){layer.confirm("\u5171\u4eab\u6a21\u5757: \u5171\u7528\u4e00\u4e2a\u680f\u76ee\uff0c\u5728\u680f\u76ee\u4e2d\u9009\u62e9\u6a21\u5757\x3cbr\x3e\u72ec\u7acb\u6a21\u5757: \u72ec\u7acb\u680f\u76ee\u7ba1\u7406\uff0c\u5728\u6a21\u5757\u4e2d\u9009\u62e9\u680f\u76ee\x3cbr\x3e",{shade:0,title:"\u5b89\u88c5\u9009\u62e9",btn:["\u72ec\u7acb","\u5171\u4eab","\u4e86\u89e3\u533a\u522b"],btn3:function(d,a){dr_help(626)}},function(f){f=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:d+"\x26type\x3d1",success:function(a){layer.close(f);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,b,c,this)}})},function(f){f=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:d+"\x26type\x3d0",success:function(a){layer.close(f);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,b,c,this)}})})}function dr_install_module(d){layer.confirm("\u4f60\u786e\u5b9a\u8981\u5b89\u88c5\u5230\u5f53\u524d\u7ad9\u70b9\u5417\uff1f",{shade:0,title:"\u5b89\u88c5",btn:["\u5b89\u88c5","\u53d6\u6d88"]},function(f){f=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:d,success:function(a){layer.close(f);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm("+a.data.url+")",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,b,c,this)}})},function(d){})}function dr_module_send(d,f,a){var b="50%",c="60%";1==is_mobile_cms&&(b=c="90%");f+="\x26"+$("#myform").serialize();layer.open({type:2,title:d,shadeClose:!0,shade:0,area:[b,c],btn:[lang.ok],yes:function(c,b){var d=layer.getChildFrame("body",c);$(d).find(".form-group").removeClass("has-error");var g=layer.load(2,{shade:[.3,"#fff"],time:5E3});$.ajax({type:"POST",dataType:"json",url:f,data:$(d).find("#myform").serialize(),success:function(b){layer.close(g);1==b.code?(layer.close(c),a||setTimeout("window.location.reload(true)",2E3)):$(d).find("#dr_row_"+b.data.field).addClass("has-error");dr_tips(b.code,b.msg);return!1},error:function(a,c,b){dr_ajax_alert_error(a,c,b,this)}});return!1},success:function(a,c){var b=layer.getChildFrame("body",c),b=$(b).html();if(0<b.indexOf('"code":0')&&150>b.length){var d=JSON.parse(b);layer.close(c);dr_tips(0,d.msg)}0<b.indexOf('"code":1')&&150>b.length&&(d=JSON.parse(b),layer.close(c),dr_tips(1,d.msg))},content:f+"\x26is_ajax\x3d1"})}function dr_module_send_ajax(d){d+="\x26"+$("#myform").serialize();var f=layer.load(2,{shade:[.3,"#fff"],time:1E4});$.ajax({type:"GET",dataType:"json",url:d,success:function(a){layer.close(f);dr_tips(a.code,a.msg);1==a.code&&setTimeout("window.location.reload(true)",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,b,c,this)}})}function dr_ajax_open_close(d,f,a){var b=layer.load(2,{shade:[.3,"#fff"],time:5E3}),c=$(d);$.ajax({type:"GET",url:f,dataType:"json",success:function(d){layer.close(b);1==d.code&&(d.data.value==a?(c.attr("class","badge badge-no"),c.html('\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e')):(c.attr("class","badge badge-yes"),c.html('\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e')));dr_tips(d.code,d.msg)},error:function(a,c,b){dr_ajax_alert_error(a,c,b,this)}})}function dr_bfb(d,f,a){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:d,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(a,c){var b=layer.getChildFrame("body",c),b=$(b).html();0<b.indexOf('"code":0')&&150>b.length&&(b=JSON.parse(b),layer.closeAll(),dr_tips(0,b.msg))},content:a+"\x26"+$("#"+f).serialize(),cancel:function(a,c){var b=layer.getChildFrame("body",a);if("1"==$(b).find("#dr_check_status").val())return layer.confirm(dr_lang("\u5173\u95ed\u540e\u5c06\u4e2d\u65ad\u64cd\u4f5c\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\u5462\uff1f"),{icon:3,shade:0,title:lang.ts,btn:[lang.ok,lang.esc]},function(a){layer.closeAll()}),!1}})}function dr_bfb_submit(d,f,a){layer.load(2,{shade:[.3,"#fff"],time:1E3});$.ajax({type:"POST",dataType:"json",url:a,data:$("#"+f).serialize(),success:function(a){layer.closeAll("loading");1==a.code?layer.open({type:2,title:d,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(a,b){var c=layer.getChildFrame("body",b),c=$(c).html();0<c.indexOf('"code":0')&&150>c.length&&(c=JSON.parse(c),layer.closeAll("loading"),dr_tips(0,c.msg))},content:a.data.url,cancel:function(a,b){var c=layer.getChildFrame("body",a);if("1"==$(c).find("#dr_check_status").val())return layer.confirm(dr_lang("\u5173\u95ed\u540e\u5c06\u4e2d\u65ad\u64cd\u4f5c\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\u5462\uff1f"),{icon:3,shade:0,title:dr_lang("ts"),btn:[dr_lang("ok"),dr_lang("esc")]},function(a){layer.closeAll()}),!1}}):dr_tips(0,a.msg,9E4);return!1},error:function(a,c,d){dr_ajax_alert_error(a,c,d,this)}})}function dr_show_file_code(d,f){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:d,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(a,b){layer.closeAll("loading")},content:f})}function dr_export(d,f){dr_tips(0,"\u6b64\u529f\u80fd\u4e0d\u53ef\u7528")}function dr_submit_htmlfile(d,f){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:lang.htmlfile,shadeClose:!0,shade:0,area:["480px","30%"],success:function(a,b){var c=layer.getChildFrame("body",b),c=$(c).html();0<c.indexOf('"code":0')&&150>c.length&&(c=JSON.parse(c),layer.closeAll(b),dr_tips(0,c.msg))},content:f+"\x26"+$("#"+d).serialize()})}function dr_submit_todo(d,f){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:lang.todoing,shadeClose:!0,shade:0,area:["480px","30%"],success:function(a,b){var c=layer.getChildFrame("body",b),c=$(c).html();0<c.indexOf('"code":0')&&150>c.length&&(c=JSON.parse(c),layer.closeAll(b),dr_tips(0,c.msg))},content:f+"\x26"+$("#"+d).serialize()})}function dr_submit_post_todo(d,f){var a=layer.load(2,{shade:[.3,"#fff"],time:1E3});$.ajax({type:"POST",dataType:"json",url:f,data:$("#"+d).serialize(),success:function(b){layer.close(a);1==b.code?dr_tips(1,b.msg):dr_tips(0,b.msg,9E4);return!1},error:function(a,c,d){dr_ajax_alert_error(a,c,d,this)}})}function dr_submit_sql_todo(d,f){var a=layer.load(2,{shade:[.3,"#fff"],time:1E3});$("#sql_result").html(" ... ");$.ajax({type:"POST",dataType:"json",url:f,data:$("#"+d).serialize(),success:function(b){layer.close(a);1==b.code?$("#sql_result").html("\x3cpre\x3e"+b.msg+"\x3c/pre\x3e"):$("#sql_result").html('\x3cdiv class\x3d"alert alert-danger"\x3e'+b.msg+"\x3c/div\x3e");return!1},error:function(a,c,d){dr_ajax_alert_error(a,c,d,this)}})}function dr_call_alert(){dr_help(463)}function dr_seo_rule(){layer.alert("\u901a\u7528\u6807\u7b7e\x3cbr\x3e{join}\tSEO\u8fde\u63a5\u7b26\u53f7\uff0c\u9ed8\u8ba4\u201c_\u201d\x3cbr\x3e[{page}]\t\u5206\u9875\u9875\u7801\x3cbr\x3e{SITE_NAME}\t\u7f51\u7ad9\u540d\u79f0\x3cbr\x3e\u652f\u6301\u201c\u5bf9\u5e94\u8868\u201d\u4efb\u4f55\u5b57\u6bb5\uff0c\u683c\u5f0f\uff1a{\u5b57\u6bb5\u540d}\uff0c\x3cbr\x3e\u5982\uff1a{title}\u8868\u793a\u6807\u9898\x3cbr\x3e\u652f\u6301\u7f51\u7ad9\u7cfb\u7edf\u5e38\u91cf\uff0c\u683c\u5f0f\uff1a{\u5927\u5199\u7684\u5e38\u91cf\u540d\u79f0}\uff0c\x3cbr\x3e\u5982\uff1a{SITE_NAME}\u8868\u793a\u7f51\u7ad9\u540d\u79f0\x3cbr\x3e",{shade:0,title:"",btn:[]})}function dr_url_module_index(){layer.alert("\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: index.php?s\x3dnews\x3cbr\x3e\u5f62\u5982news.html \u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}.html \u6216\u8005\u76f4\u63a5\u5199\u6210 news.html\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{modname}\t\u8868\u793a\u5f53\u524d\u6a21\u5757\u76ee\u5f55\x3cbr\x3e\u5982\u679c\u6b64\u6a21\u5757\u7ed1\u5b9a\u4e86\u57df\u540d,\u90a3\u4e48\u6b64\u89c4\u5219\u5c31\u65e0\u6548\u4e86\x3cbr\x3e",{shade:0,area:["50%","50%"],title:"",btn:[]})}function dr_url_module_show(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dnews\x26c\x3dshow\x26id\x3d1\x3cbr\x3e\u5f62\u5982show/1.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}/{id}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{id}   \u8868\u793aid\x3cbr\x3e{y}   \u8868\u793a\u5e74\x3cbr\x3e{m}   \u8868\u793a\u6708\x3cbr\x3e{d}   \u8868\u793a\u65e5\x3cbr\x3e{page}   \u8868\u793a\u5206\u9875\u53f7\x3cbr\x3e{dirname}   \u8868\u793a\u680f\u76ee\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{pdirname}   \u5305\u542b\u7236\u7ea7\u5b50\u7ea7\u5c42\u6b21\u7684\u76ee\u5f55\x3cbr\x3e{opdirname}   \u8868\u793a\u7236\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{otdirname}   \u8868\u793a\u9876\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{modname}  \u8868\u793a\u6a21\u5757\u76ee\u5f55\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_list(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dnews\x26c\x3dcategory\x26id\x3d1\x3cbr\x3e\u5f62\u5982news/1.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {dirname}/{id}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{id}   \u8868\u793a\u680f\u76eeid\x3cbr\x3e{page}   \u8868\u793a\u5206\u9875\u53f7\x3cbr\x3e{dirname}   \u8868\u793a\u680f\u76ee\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{pdirname}   \u5305\u542b\u7236\u7ea7\u5b50\u7ea7\u5c42\u6b21\u7684\u76ee\u5f55\x3cbr\x3e{opdirname}   \u8868\u793a\u7236\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{otdirname}   \u8868\u793a\u9876\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{modname}  \u8868\u793a\u6a21\u5757\u76ee\u5f55\uff08\u53ea\u80fd\u72ec\u7acb\u6a21\u5757\u4f7f\u7528\uff0c\u5171\u4eab\u6a21\u5757\u4e0d\u80fd\u4f7f\u7528\uff09\x3cbr\x3e\u652f\u6301\u4e3b\u8868\u4efb\u4f55\u5b57\u6bb5\uff0c\u683c\u5f0f\uff1a{\u5b57\u6bb5\u540d}\uff0c\u5982\uff1a{name}\u8868\u793a\u680f\u76ee\u540d\u79f0\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_page(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dpage\x26id\x3d1\x3cbr\x3e\u5f62\u5982page/1.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: page/{id}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{id}   \u8868\u793aid\x3cbr\x3e{page}   \u8868\u793a\u5206\u9875\u53f7\x3cbr\x3e{dirname}   \u8868\u793a\u680f\u76ee\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{pdirname}   \u5305\u542b\u7236\u7ea7\u5c42\u6b21\u7684\u76ee\u5f55\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_tag(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dtag\x26name\x3dguanjianci\x3cbr\x3e\u5f62\u5982tag/guanjianci.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: tag/{tag}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{tag}   \u8868\u793atag\u82f1\u6587\u540d\u79f0\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_search(){layer.alert("\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: index.php?s\x3dnews\x26c\x3dsearch\x3cbr\x3e\u5f62\u5982news/search.html \u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}/search.html\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{modname}\t\u8868\u793a\u5f53\u524d\u6a21\u5757\u76ee\u5f55\x3cbr\x3e",{shade:0,area:["50%","50%"],title:"",btn:[]})}function dr_url_module_search_page(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dnews\x26c\x3dsearch\x26\u5b57\u6bb5\x3d\u503c\x3cbr\x3e\u5f62\u5982news/search/\u641c\u7d22\u53c2\u6570.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}/search/{param}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{param}   \u8868\u793a\u641c\u7d22\u53c2\u6570\x3cbr\x3e{modname}  \u8868\u793a\u6a21\u5757\u76ee\u5f55\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_help(d){1==is_oemcms?dr_tips(1,"\u8bf7\u8054\u7cfb\u5f00\u53d1\u5546"):layer.open({type:2,title:'\x3ci class\x3d"fa fa-question-circle"\x3e\x3c/i\x3e \u5728\u7ebf\u5e2e\u52a9',shadeClose:!0,scrollbar:!1,shade:0,area:["80%","90%"],content:"https://www.xunruicms.com/index.php?s\x3ddoc\x26c\x3dshow\x26id\x3d"+d+"\x26is_phpcmf\x3dcms"})}function dr_search_help(){1==is_oemcms?dr_tips(1,"\u8bf7\u8054\u7cfb\u5f00\u53d1\u5546"):layer.open({type:2,title:'\x3ci class\x3d"fa fa-question-circle"\x3e\x3c/i\x3e \u5728\u7ebf\u5e2e\u52a9',shadeClose:!0,scrollbar:!1,shade:0,area:["80%","90%"],content:admin_file+"?c\x3dapi\x26m\x3dsearch_help\x26kw\x3d"+$("#mysearchform_kw").val()})}function dr_test_html_dir(d){$.ajax({type:"GET",dataType:"json",url:admin_file+"?c\x3dapi\x26m\x3dtest_dir\x26v\x3d"+encodeURIComponent($("#"+d).val()),success:function(d){dr_tips(d.code,d.msg)},error:function(d,a,b){dr_ajax_alert_error(d,this,b)}})}function dr_ajax_admin_alert_error(d,f,a){dr_ajax_alert_error(d,this,a)}(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):d(jQuery)})(function(d){function f(a){a=c.json?JSON.stringify(a):String(a);return c.raw?a:encodeURIComponent(a)}function a(a,f){var g;if(c.raw)g=a;else a:{var n=a;0===n.indexOf('"')&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{n=decodeURIComponent(n.replace(b," "));g=c.json?JSON.parse(n):n;break a}catch(p){}g=void 0}return d.isFunction(f)?f(g):g}var b=/\+/g,c=d.cookie=function(b,k,h){if(1<arguments.length&&!d.isFunction(k)){h=d.extend({},c.defaults,h);if("number"===typeof h.expires){var g=h.expires,p=h.expires=new Date;p.setMilliseconds(p.getMilliseconds()+864E5*g)}return document.cookie=[c.raw?b:encodeURIComponent(b),"\x3d",f(k),h.expires?"; expires\x3d"+h.expires.toUTCString():"",h.path?"; path\x3d"+h.path:"",h.domain?"; domain\x3d"+h.domain:"",h.secure?"; secure":""].join("")}for(var g=b?void 0:{},p=document.cookie?document.cookie.split("; "):[],q=0,r=p.length;q<r;q++){var m=p[q].split("\x3d"),l;l=m.shift();l=c.raw?l:decodeURIComponent(l);m=m.join("\x3d");if(b===l){g=a(m,k);break}b||void 0===(m=a(m))||(g[l]=m)}return g};c.defaults={};d.removeCookie=function(a,c){d.cookie(a,"",d.extend({},c,{expires:-1}));return!d.cookie(a)}});var QuickSidebar=function(){var d=function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(a){$("body").toggleClass("page-quick-sidebar-open")})},f=function(){var a=$(".page-quick-sidebar-wrapper"),b=a.find(".page-quick-sidebar-chat"),d=function(){var c,d=a.find(".page-quick-sidebar-chat-users");c=a.height()-a.find(".nav-tabs").outerHeight(!0);App.destroySlimScroll(d);d.attr("data-height",c);App.initSlimScroll(d);d=b.find(".page-quick-sidebar-chat-user-messages");c-=b.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);c-=b.find(".page-quick-sidebar-nav").outerHeight(!0);App.destroySlimScroll(d);d.attr("data-height",c);App.initSlimScroll(d)};d();App.addResizeHandler(d);a.find(".page-quick-sidebar-chat-users .media-list \x3e .media").click(function(){b.addClass("page-quick-sidebar-content-item-shown")});a.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){b.removeClass("page-quick-sidebar-content-item-shown")});var f=function(a){a.preventDefault();var c=b.find(".page-quick-sidebar-chat-user-messages");a=b.find(".page-quick-sidebar-chat-user-form .form-control");var d=a.val();if(0!==d.length){var f=function(a,c,b,d,f){b="";return b+='\x3cdiv class\x3d"post '+a+'"\x3e',b+='\x3cimg class\x3d"avatar" alt\x3d"" src\x3d"'+Layout.getLayoutImgPath()+d+'.jpg"/\x3e',b+='\x3cdiv class\x3d"message"\x3e',b+='\x3cspan class\x3d"arrow"\x3e\x3c/span\x3e',b+='\x3ca href\x3d"#" class\x3d"name"\x3eBob Nilson\x3c/a\x3e\x26nbsp;',b+='\x3cspan class\x3d"datetime"\x3e'+c+"\x3c/span\x3e",b+='\x3cspan class\x3d"body"\x3e',b+=f,b+="\x3c/span\x3e",b+="\x3c/div\x3e",b+"\x3c/div\x3e"},g=new Date,d=f("out",g.getHours()+":"+g.getMinutes(),"Bob Nilson","avatar3",d),d=$(d);c.append(d);c.slimScroll({scrollTo:"1000000px"});a.val("");setTimeout(function(){var a=new Date,a=f("in",a.getHours()+":"+a.getMinutes(),"Ella Wong","avatar2","Lorem ipsum doloriam nibh..."),a=$(a);c.append(a);c.slimScroll({scrollTo:"1000000px"})},3E3)}};b.find(".page-quick-sidebar-chat-user-form .btn").click(f);b.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(a){return 13==a.which?(f(a),!1):void 0})},a=function(){var a=$(".page-quick-sidebar-wrapper"),b=function(){var c,b=a.find(".page-quick-sidebar-alerts-list");c=a.height()-a.find(".nav-justified \x3e .nav-tabs").outerHeight();App.destroySlimScroll(b);b.attr("data-height",c);App.initSlimScroll(b)};b();App.addResizeHandler(b)},b=function(){var a=$(".page-quick-sidebar-wrapper"),b=function(){var b,c=a.find(".page-quick-sidebar-settings-list");b=a.height()-80-a.find(".nav-justified \x3e .nav-tabs").outerHeight();App.destroySlimScroll(c);c.attr("data-height",b);App.initSlimScroll(c)};b();App.addResizeHandler(b)};return{init:function(){d();f();a();b()}}}();!1===App.isAngularJsApp()&&jQuery(document).ready(function(){QuickSidebar.init()});