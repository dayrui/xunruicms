/**
 处理整个主题和核心功能的核心脚本
 **/
var App=function(){var b=!1,c=[],a=function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(a){100<$(this).scrollTop()?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)}):$(window).scroll(function(){100<$(this).scrollTop()?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)});$(".scroll-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return!1})},f=function(){for(var a=0;a<c.length;a++)c[a].call()},d=function(){var a;$(window).resize(function(){a&&clearTimeout(a);a=setTimeout(function(){f()},50)})},g=function(){$("body").on("click",".portlet \x3e .portlet-title .fullscreen",function(a){a.preventDefault();a=$(this).closest(".portlet");if(a.hasClass("portlet-fullscreen"))$(this).removeClass("on"),a.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),a.children(".portlet-body").css("height","auto");else{var b=App.getViewPort().height-a.children(".portlet-title").outerHeight()-parseInt(a.children(".portlet-body").css("padding-top"))-parseInt(a.children(".portlet-body").css("padding-bottom"));$(this).addClass("on");a.addClass("portlet-fullscreen");$("body").addClass("page-portlet-fullscreen");a.children(".portlet-body").css("height",b)}})},n=function(){$("body").on("click",".md-checkbox \x3e label, .md-radio \x3e label",function(){var a=$(this),b=$(this).children("span:first-child");b.addClass("inc");var d=b.clone(!0);b.before(d);$("."+b.attr("class")+":last",a).remove()});if($("body").hasClass("page-md")){var a,b,d,c,f;$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(g){a=$(this);0==a.find(".md-click-circle").length&&a.prepend("\x3cspan class\x3d'md-click-circle'\x3e\x3c/span\x3e");b=a.find(".md-click-circle");b.removeClass("md-click-animate");b.height()||b.width()||(d=Math.max(a.outerWidth(),a.outerHeight()),b.css({height:d,width:d}));c=g.pageX-a.offset().left-b.width()/2;f=g.pageY-a.offset().top-b.height()/2;b.css({top:f+"px",left:c+"px"}).addClass("md-click-animate");setTimeout(function(){b.remove()},1E3)})}var g=function(a){""!=a.val()?a.addClass("edited"):a.removeClass("edited")};$("body").on("keydown",".form-md-floating-label .form-control",function(a){g($(this))});$("body").on("blur",".form-md-floating-label .form-control",function(a){g($(this))});$(".form-md-floating-label .form-control").each(function(){0<$(this).val().length&&$(this).addClass("edited")})},k=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},h=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(a){App.scrollTo($(a.target))})},p=function(){if(encodeURI(location.hash)){var a=encodeURI(location.hash.substr(1));$('a[href\x3d"#'+a+'"]').parents(".tab-pane:hidden").each(function(){var a=$(this).attr("id");$('a[href\x3d"#'+a+'"]').click()});$('a[href\x3d"#'+a+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'\x3ci class\x3d"fa fa-ellipsis-v"\x3e\x3c/i\x3e\x26nbsp;\x3ci class\x3d"fa fa-angle-down"\x3e\x3c/i\x3e'})},r=function(){$(".tooltips").tooltip();$(".portlet \x3e .portlet-title .fullscreen").tooltip({trigger:"hover",container:"body",title:"Fullscreen"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .reload").tooltip({trigger:"hover",container:"body",title:"Reload"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .remove").tooltip({trigger:"hover",container:"body",title:"Remove"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .config").tooltip({trigger:"hover",container:"body",title:"Settings"});$(".portlet \x3e .portlet-title \x3e .tools \x3e .collapse, .portlet \x3e .portlet-title \x3e .tools \x3e .expand").tooltip({trigger:"hover",container:"body",title:"Collapse/Expand"})},q=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(a){a.stopPropagation()})},m=function(){$('[data-hover\x3d"dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover();$(this).addClass("hover-initialized")})},l,t=function(){$(".popovers").popover();$(document).on("click.bs.popover.data-api",function(a){l&&l.popover("hide")})},u=function(){$("[data-auto-height]").each(function(){var a=$(this),b=$("[data-height]",a),d=0,c=a.attr("data-mode"),f=parseInt(a.attr("data-offset")?a.attr("data-offset"):0);b.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var a="base-height"==c?$(this).outerHeight():$(this).outerHeight(!0);a>d&&(d=a)});d+=f;b.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",d):$(this).css("min-height",d)});a.attr("data-related")&&$(a.attr("data-related")).css("height",a.height())})};return{init:function(){"rtl"===$("body").css("direction")&&(b=!0);d();a();n();k();App.initSlimScroll(".scroller");g();q();p();r();t();h();"function"==typeof autosize&&autosize(document.querySelector("textarea.autosizeme"));$().counterUp&&$("[data-counter\x3d'counterup']").counterUp({delay:10,time:1E3});this.addResizeHandler(u)},initAjax:function(){k();m();App.initSlimScroll(".scroller");q();r();t();h()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(a){l=a},addResizeHandler:function(a){c.push(a)},runResizeHandlers:function(){f()},scrollTo:function(a,b){var d=a&&0<a.length?a.offset().top:0;a&&($("body").hasClass("page-header-fixed")?d-=$(".page-header").height():$("body").hasClass("page-header-top-fixed")?d-=$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(d-=$(".page-header-menu").height()),d+=b?b:-1*a.height());$("html,body").animate({scrollTop:d},"slow")},initSlimScroll:function(a){$().slimScroll&&$(a).each(function(){if(!$(this).attr("data-initialized")){var a;a=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height");$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:b?"left":"right",height:a,alwaysVisible:"1"==$(this).attr("data-always-visible")?!0:!1,railVisible:"1"==$(this).attr("data-rail-visible")?!0:!1,disableFadeOut:!0});$(this).attr("data-initialized","1")}})},destroySlimScroll:function(a){$().slimScroll&&$(a).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized");$(this).removeAttr("style");var a={};$(this).attr("data-handle-color")&&(a["data-handle-color"]=$(this).attr("data-handle-color"));$(this).attr("data-wrapper-class")&&(a["data-wrapper-class"]=$(this).attr("data-wrapper-class"));$(this).attr("data-rail-color")&&(a["data-rail-color"]=$(this).attr("data-rail-color"));$(this).attr("data-always-visible")&&(a["data-always-visible"]=$(this).attr("data-always-visible"));$(this).attr("data-rail-visible")&&(a["data-rail-visible"]=$(this).attr("data-rail-visible"));$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var b=$(this);$.each(a,function(a,d){b.attr(a,d)})}})},scrollTop:function(){App.scrollTo()},getActualVal:function(a){a=$(a);return a.val()===a.attr("placeholder")?"":a.val()},getURLParameter:function(a){var b,d,c=window.location.search.substring(1).split("\x26");for(b=0;b<c.length;b++)if(d=c[b].split("\x3d"),d[0]==a)return unescape(d[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(v){return!1}},getViewPort:function(){var a=window,b="inner";"innerWidth"in window||(b="client",a=document.documentElement||document.body);return{width:a[b+"Width"],height:a[b+"Height"]}},getUniqueID:function(a){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isRTL:function(){return b},isAngularJsApp:function(){return"undefined"==typeof angular?!1:!0},getResponsiveBreakpoint:function(a){var b={xs:480,sm:768,md:992,lg:1200};return b[a]?b[a]:0}}}();jQuery(document).ready(function(){App.init()});var Layout=function(){var b=App.getResponsiveBreakpoint("md"),c=function(){},a=function(){$(".page-sidebar-mobile-offcanvas .responsive-toggler").click(function(){$("body").toggleClass("page-sidebar-mobile-offcanvas-open");e.preventDefault();e.stopPropagation()});if($("body").hasClass("page-sidebar-mobile-offcanvas"))$(document).on("click",function(a){$("body").hasClass("page-sidebar-mobile-offcanvas-open")&&0===$(a.target).closest(".page-sidebar-mobile-offcanvas .responsive-toggler").length&&0===$(a.target).closest(".page-sidebar-wrapper").length&&($("body").removeClass("page-sidebar-mobile-offcanvas-open"),a.preventDefault(),a.stopPropagation())});$(".page-sidebar-menu").on("click","li \x3e a.nav-toggle, li \x3e a \x3e span.nav-toggle",function(a){var d=$(this).closest(".nav-item").children(".nav-link");if(!(App.getViewPort().width>=b&&!$(".page-sidebar-menu").attr("data-initialized")&&$("body").hasClass("page-sidebar-closed")&&1===d.parent("li").parent(".page-sidebar-menu").length)){var c=d.next().hasClass("sub-menu");if(!(App.getViewPort().width>=b&&1===d.parents(".page-sidebar-menu-hover-submenu").length))if(!1===c)App.getViewPort().width<b&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click();else{var f=d.parent().parent(),g=$(".page-sidebar-menu"),n=d.next(),m=g.data("auto-scroll"),l=parseInt(g.data("slide-speed"));g.data("keep-expanded")||(f.children("li.open").children("a").children(".arrow").removeClass("open"),f.children("li.open").children(".sub-menu:not(.always-open)").slideUp(l),f.children("li.open").removeClass("open"));n.is(":visible")?($(".arrow",d).removeClass("open"),d.parent().removeClass("open"),n.slideUp(l,function(){!0===m&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?g.slimScroll({scrollTo:d.position().top}):App.scrollTo(d,-200))})):c&&($(".arrow",d).addClass("open"),d.parent().addClass("open"),n.slideDown(l,function(){!0===m&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?g.slimScroll({scrollTo:d.position().top}):App.scrollTo(d,-200))}));a.preventDefault()}}});if(App.isAngularJsApp())$(".page-sidebar-menu li \x3e a").on("click",function(a){App.getViewPort().width<b&&!1===$(this).next().hasClass("sub-menu")&&$(".page-header .responsive-toggler").click()});$(".page-sidebar").on("click"," li \x3e a.ajaxify",function(a){});$(".page-content").on("click",".ajaxify",function(a){});$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()});$(".page-sidebar").on("click",".sidebar-search .remove",function(a){a.preventDefault();$(".sidebar-search").removeClass("open")});$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(a){if(13==a.which)return dr_search_help(),!1});$(".sidebar-search .submit").on("click",function(a){dr_search_help()});0!==$(".sidebar-search").length&&($(".sidebar-search .input-group").on("click",function(a){a.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},f=function(){var a=App.getViewPort().height-$(".page-header").outerHeight(!0);$("body").hasClass("page-footer-fixed")&&(a-=$(".page-footer").outerHeight());return a},d=function(){var a=$(".page-sidebar-menu");0!==$(".page-sidebar-fixed").length&&App.getViewPort().width>=b&&!$("body").hasClass("page-sidebar-menu-not-fixed")&&(a.attr("data-height",f()),App.destroySlimScroll(a),App.initSlimScroll(a))},g=function(){if("undefined"!=typeof is_min&&1==is_min){var a=$("body");$.cookie&&"1"===$.cookie("sidebar_closed")&&App.getViewPort().width>=b&&($("body").addClass("page-sidebar-closed"),$(".page-sidebar-menu").addClass("page-sidebar-menu-closed"));$("body").on("click",".sidebar-toggler",function(b){b=$(".page-sidebar");var d=$(".page-sidebar-menu");$(".sidebar-search",b).removeClass("open");a.hasClass("page-sidebar-closed")?(a.removeClass("page-sidebar-closed"),d.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(a.addClass("page-sidebar-closed"),d.addClass("page-sidebar-menu-closed"),a.hasClass("page-sidebar-fixed")&&d.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1"));$(window).trigger("resize")})}};return{initSidebar:function(){d();a();g();App.addResizeHandler(d)},initContent:function(){App.addResizeHandler(c)},init:function(){this.initSidebar();this.initContent()},fixContentHeight:function(){},initFixedSidebar:function(){d()}}}();!1===App.isAngularJsApp()&&jQuery(document).ready(function(){Layout.init()});function dr_show_member(b){1==is_mobile_cms?width=height="90%":(width="50%",height="70%");b=admin_file+"?c\x3dapi\x26m\x3dmember\x26name\x3d"+$("#dr_"+b).val();layer.open({type:2,title:'\x3ci class\x3d"fa fa-user"\x3e\x3c/i\x3e '+lang.member,shadeClose:!0,shade:0,scrollbar:!1,area:[width,width],success:function(b,a){dr_iframe_error(layer,a,0)},content:b+"\x26is_iframe\x3d1"})}jQuery(document).ready(function(){$(".onloading").click(function(){layer.load(2,{time:5E3})});$(document).on("click",".fc_member_show",function(){var a=$(this).attr("uid"),b=$(this).attr("member"),a=admin_file+"?c\x3dapi\x26m\x3dmember\x26name\x3d"+b+"\x26uid\x3d"+a;1==is_mobile_cms?width=height="90%":(width="50%",height="70%");layer.open({type:2,title:'\x3ci class\x3d"fa fa-user"\x3e\x3c/i\x3e '+lang.member,shadeClose:!0,shade:0,area:[width,width],success:function(a,b){dr_iframe_error(layer,b,0)},content:a+"\x26is_iframe\x3d1"})});$(document).on("click",".table td,.table th",function(){var a=$(this);if(1==dr_isEllipsis(a[0])){var b=a.html();-1!=b.indexOf("checkbox")||-1!=b.indexOf("\x3cinput")||-1==b.indexOf('class\x3d"btn')&&-1!=b.indexOf('href\x3d"')||layer.tips(b,a,{tips:[1,"#fff"],time:5E3})}});if("undefined"!=typeof is_admin&&1==is_admin){var b,c=!1;window.onunloadcancel=function(){clearTimeout(b)};window.onbeforeunload=function(){if(c)return setTimeout(function(){b=setTimeout(onunloadcancel,0)},0),lang.unloadtips};$("[type\x3d'submit'], [type\x3d'button']").click(function(){c=!1});$("select").change(function(){c=!0});$(document).keydown(function(a){if(40<=a.keyCode||0==a.keyCode)c=!0;if(16==a.keyCode||82==a.keyCode||91==a.keyCode)c=!1})}900>$(document).width()?($(".fc-all-menu-top").remove(),$(".fc-mini-menu-top").show(),$(".fc-list-select button").each(function(){var a=$(this).html();re=new RegExp(/<i class=\"(.+)\"(.+)/i);re.test(a)&&(a=a.match(re),$(this).html('\x3ci class\x3d"'+a[1]+'"\x3e\x3c/i\x3e'),$(this).attr("title",a[2].replace("\x3e\x3c/i\x3e ","")))}),$('a[data-toggle\x3d"tab"]').each(function(){var a=$(this).html();re=new RegExp(/<i class=\"(.+)\"(.+)/i);re.test(a)&&(a=a.match(re),$(this).html('\x3ci class\x3d"'+a[1]+'"\x3e\x3c/i\x3e'),$(this).attr("title",a[2].replace("\x3e\x3c/i\x3e ","")))}),$(".my-top-left").html('\x3cdiv class\x3d"fc-mini-logo"\x3e'+$(".page-header-inner .page-logo").html()+"\x3c/div\x3e")):($(".fc-all-menu-top").show(),$(".fc-mini-menu-top").remove())});function dr_admin_menu_ajax(b,c){var a=layer.load(2,{shade:[.3,"#fff"],time:1E4});$.ajax({type:"GET",dataType:"json",url:b,success:function(b){layer.close(a);dr_tips(b.code,b.msg);1!=b.code||c||setTimeout("window.location.reload(true)",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,this,c)}})}function dr_update_cache(b,c){dr_update_cache_all()}function dr_load_ajax(b,c,a){layer.confirm(b,{icon:3,shade:0,title:lang.ts,btn:[lang.ok,lang.esc]},function(b){layer.close(b);b=layer.load(2,{shade:[.3,"#fff"],time:5E3});$.ajax({type:"GET",dataType:"json",url:c,success:function(d){layer.close(b);dr_tips(d.code,d.msg);1==a&&0<d.code&&setTimeout("window.location.reload(true)",2E3)},error:function(a,b,c){dr_ajax_alert_error(a,this,c)}})})}function dr_install_confirm(b){"undefined"!=typeof is_oem_cms_down&&is_oem_cms_down?(window.opener=null,window.open("","_self"),window.close(),alert("\u8bf7\u5173\u95ed\u5f53\u524d\u7a97\u53e3")):layer.confirm("\u786e\u5b9a\u8981\u5237\u65b0\u6574\u4e2a\u540e\u53f0\u5417\uff1f",{icon:3,shade:0,title:lang.ts,btn:[dr_lang("\u5237\u65b0\u540e\u53f0"),dr_lang("\u76f4\u63a5\u8fdb\u5165")]},function(c){layer.close(c);parent.location.href=admin_file+"?go\x3d"+encodeURIComponent(b)},function(c){layer.close(c);b?window.location.href=b:window.location.reload(!0)})}function dr_install_app(b){layer.confirm("\u5f53\u60a8\u5728\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5b98\u65b9\u4e0d\u4fdd\u8bc1\u5b83\u7684\u5408\u6cd5\u6027\u3001\u5b89\u5168\u6027\u3001\u5b8c\u6574\u6027\u3001\u771f\u5b9e\u6027\u6216\u54c1\u8d28\u7b49\uff0c\u8bf7\u7528\u6237\u81ea\u884c\u5224\u65ad\u662f\u5426\u5b89\u88c5\u5e76\u627f\u62c5\u6240\u6709\u98ce\u9669\u3002",{shade:0,title:"\u514d\u8d23\u58f0\u660e",btn:["\u5b89\u88c5","\u53d6\u6d88"]},function(c){c=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:b,success:function(a){layer.close(c);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})},function(b){})}function dr_install_module_select(b){layer.confirm("\u5171\u4eab\u6a21\u5757: \u5171\u7528\u4e00\u4e2a\u680f\u76ee\uff0c\u5728\u680f\u76ee\u4e2d\u9009\u62e9\u6a21\u5757\x3cbr\x3e\u72ec\u7acb\u6a21\u5757: \u72ec\u7acb\u680f\u76ee\u7ba1\u7406\uff0c\u5728\u6a21\u5757\u4e2d\u9009\u62e9\u680f\u76ee\x3cbr\x3e",{shade:0,title:"\u5b89\u88c5\u9009\u62e9",btn:["\u72ec\u7acb","\u5171\u4eab","\u4e86\u89e3\u533a\u522b"],btn3:function(b,a){dr_help(626)}},function(c){c=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:b+"\x26type\x3d1",success:function(a){layer.close(c);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})},function(c){c=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:b+"\x26type\x3d0",success:function(a){layer.close(c);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})})}function dr_install_module(b){layer.confirm("\u4f60\u786e\u5b9a\u8981\u5b89\u88c5\u5230\u5f53\u524d\u7ad9\u70b9\u5417\uff1f",{shade:0,title:"\u5b89\u88c5",btn:["\u5b89\u88c5","\u53d6\u6d88"]},function(c){c=layer.load(2,{shade:[.3,"#fff"],time:5E4});$.ajax({type:"GET",dataType:"json",url:b,success:function(a){layer.close(c);dr_tips(a.code,a.msg);1==a.code&&setTimeout("dr_install_confirm('"+a.data.url+"')",2E3)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})},function(b){})}function dr_module_send(b,c,a){var f="50%",d="60%";1==is_mobile_cms&&(f=d="90%");c+="\x26"+$("#myform").serialize();layer.open({type:2,title:b,shadeClose:!0,shade:0,area:[f,d],btn:[lang.ok],yes:function(d,f){var g=layer.getChildFrame("body",d);$(g).find(".form-group").removeClass("has-error");var h=layer.load(2,{shade:[.3,"#fff"],time:9999999});$.ajax({type:"POST",dataType:"json",url:c,data:$(g).find("#myform").serialize(),success:function(c){layer.close(h);if(c.token){var f=c.token;$(g).find("#myform input[name\x3d'"+f.name+"']").val(f.value)}1==c.code?(layer.close(d),c.data.url?dr_iframe_show(b,c.data.url):a||setTimeout("window.location.reload(true)",2E3)):$(g).find("#dr_row_"+c.data.field).addClass("has-error");dr_tips(c.code,c.msg);return!1},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}});return!1},success:function(a,b){dr_iframe_error(layer,b,1)},content:c+"\x26is_iframe\x3d1"})}function dr_module_send_ajax(b){b+="\x26"+$("#myform").serialize();var c=layer.load(2,{shade:[.3,"#fff"],time:1E4});$.ajax({type:"GET",dataType:"json",url:b,success:function(a){layer.close(c);dr_tips(a.code,a.msg);1==a.code&&setTimeout("window.location.reload(true)",2E3)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})}function dr_ajax_open_close(b,c,a){var f=layer.load(2,{shade:[.3,"#fff"],time:5E3}),d=$(b);$.ajax({type:"GET",url:c,dataType:"json",success:function(b){layer.close(f);1==b.code&&(b.data.value==a?(d.attr("class","badge badge-no"),d.html('\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e')):(d.attr("class","badge badge-yes"),d.html('\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e')));dr_tips(b.code,b.msg)},error:function(a,b,d){dr_ajax_alert_error(a,this,d)}})}function dr_bfb(b,c,a){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:b,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(a,b){dr_iframe_error(layer,b,0)},content:a+"\x26"+$("#"+c).serialize(),cancel:function(a,b){var d=layer.getChildFrame("body",a);if("1"==$(d).find("#dr_check_status").val())return layer.confirm(dr_lang("\u5173\u95ed\u540e\u5c06\u4e2d\u65ad\u64cd\u4f5c\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\u5462\uff1f"),{icon:3,shade:0,title:lang.ts,btn:[lang.ok,lang.esc]},function(a){layer.closeAll()}),!1}})}function dr_bfb_submit(b,c,a){layer.load(2,{shade:[.3,"#fff"],time:1E3});$.ajax({type:"POST",dataType:"json",url:a,data:$("#"+c).serialize(),success:function(a){layer.closeAll("loading");if(a.token){var d=a.token;$("#"+c+" input[name\x3d'"+d.name+"']").val(d.value)}1==a.code?layer.open({type:2,title:b,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(a,b){dr_iframe_error(layer,b,0)},content:a.data.url,cancel:function(a,b){var d=layer.getChildFrame("body",a);if("1"==$(d).find("#dr_check_status").val())return layer.confirm(dr_lang("\u5173\u95ed\u540e\u5c06\u4e2d\u65ad\u64cd\u4f5c\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\u5462\uff1f"),{icon:3,shade:0,title:dr_lang("ts"),btn:[dr_lang("ok"),dr_lang("esc")]},function(a){layer.closeAll()}),!1}}):dr_tips(0,a.msg,9E4);return!1},error:function(a,b,c){dr_ajax_alert_error(a,this,c)}})}function dr_show_file_code(b,c){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:b,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(a,b){layer.closeAll("loading")},content:c})}function dr_export(b,c){dr_tips(0,"\u6b64\u529f\u80fd\u4e0d\u53ef\u7528")}function dr_submit_htmlfile(b,c){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:lang.htmlfile,shadeClose:!0,shade:0,area:["480px","30%"],success:function(a,b){dr_iframe_error(layer,b,0)},content:c+"\x26"+$("#"+b).serialize()})}function dr_submit_todo(b,c){layer.load(2,{shade:[.3,"#fff"],time:1E3});layer.open({type:2,title:lang.todoing,shadeClose:!0,shade:0,area:["480px","30%"],success:function(a,b){dr_iframe_error(layer,b,0)},content:c+"\x26"+$("#"+b).serialize()})}function dr_submit_post_todo(b,c){var a=layer.load(2,{shade:[.3,"#fff"],time:1E3});$.ajax({type:"POST",dataType:"json",url:c,data:$("#"+b).serialize(),success:function(c){layer.close(a);if(c.token){var d=c.token;$("#"+b+" input[name\x3d'"+d.name+"']").val(d.value)}1==c.code?dr_tips(1,c.msg):dr_tips(0,c.msg,9E4);return!1},error:function(a,b,c){dr_ajax_alert_error(a,this,c)}})}function dr_submit_sql_todo(b,c){var a=layer.load(2,{shade:[.3,"#fff"],time:1E3});$("#sql_result").html(" ... ");$.ajax({type:"POST",dataType:"json",url:c,data:$("#"+b).serialize(),success:function(c){layer.close(a);if(c.token){var d=c.token;$("#"+b+" input[name\x3d'"+d.name+"']").val(d.value)}1==c.code?$("#sql_result").html("\x3cpre\x3e"+c.msg+"\x3c/pre\x3e"):$("#sql_result").html('\x3cdiv class\x3d"alert alert-danger"\x3e'+c.msg+"\x3c/div\x3e");return!1},error:function(a,b,c){dr_ajax_alert_error(a,this,c)}})}function dr_call_alert(){dr_help(463)}function dr_seo_rule(){layer.alert("\u901a\u7528\u6807\u7b7e\x3cbr\x3e{join}\tSEO\u8fde\u63a5\u7b26\u53f7\uff0c\u9ed8\u8ba4\u201c_\u201d\x3cbr\x3e[{page}]\t\u5206\u9875\u9875\u7801\x3cbr\x3e{SITE_NAME}\t\u7f51\u7ad9\u540d\u79f0\x3cbr\x3e\u652f\u6301\u201c\u5bf9\u5e94\u8868\u201d\u4efb\u4f55\u5b57\u6bb5\uff0c\u683c\u5f0f\uff1a{\u5b57\u6bb5\u540d}\uff0c\x3cbr\x3e\u5982\uff1a{title}\u8868\u793a\u6807\u9898\x3cbr\x3e\u652f\u6301\u7f51\u7ad9\u7cfb\u7edf\u5e38\u91cf\uff0c\u683c\u5f0f\uff1a{\u5927\u5199\u7684\u5e38\u91cf\u540d\u79f0}\uff0c\x3cbr\x3e\u5982\uff1a{SITE_NAME}\u8868\u793a\u7f51\u7ad9\u540d\u79f0\x3cbr\x3e",{shade:0,title:"",btn:[]})}function dr_url_module_index(){layer.alert("\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: index.php?s\x3dnews\x3cbr\x3e\u5f62\u5982news.html \u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}.html \u6216\u8005\u76f4\u63a5\u5199\u6210 news.html\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{modname}\t\u8868\u793a\u5f53\u524d\u6a21\u5757\u76ee\u5f55\x3cbr\x3e\u5982\u679c\u6b64\u6a21\u5757\u7ed1\u5b9a\u4e86\u57df\u540d,\u90a3\u4e48\u6b64\u89c4\u5219\u5c31\u65e0\u6548\u4e86\x3cbr\x3e",{shade:0,area:["50%","50%"],title:"",btn:[]})}function dr_url_module_show(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dnews\x26c\x3dshow\x26id\x3d1\x3cbr\x3e\u5f62\u5982show/1.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}/{id}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{id}   \u8868\u793aid\x3cbr\x3e{y}   \u8868\u793a\u5e74\x3cbr\x3e{m}   \u8868\u793a\u6708\x3cbr\x3e{d}   \u8868\u793a\u65e5\x3cbr\x3e{page}   \u8868\u793a\u5206\u9875\u53f7\x3cbr\x3e{dirname}   \u8868\u793a\u680f\u76ee\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{pdirname}   \u5305\u542b\u7236\u7ea7\u5b50\u7ea7\u5c42\u6b21\u7684\u76ee\u5f55\x3cbr\x3e{opdirname}   \u8868\u793a\u7236\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{otdirname}   \u8868\u793a\u9876\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{modname}  \u8868\u793a\u6a21\u5757\u76ee\u5f55\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_list(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dnews\x26c\x3dcategory\x26id\x3d1\x3cbr\x3e\u5f62\u5982news/1.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {dirname}/{id}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{id}   \u8868\u793a\u680f\u76eeid\x3cbr\x3e{page}   \u8868\u793a\u5206\u9875\u53f7\x3cbr\x3e{dirname}   \u8868\u793a\u680f\u76ee\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{pdirname}   \u5305\u542b\u7236\u7ea7\u5b50\u7ea7\u5c42\u6b21\u7684\u76ee\u5f55\x3cbr\x3e{opdirname}   \u8868\u793a\u7236\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{otdirname}   \u8868\u793a\u9876\u7ea7\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{modname}  \u8868\u793a\u6a21\u5757\u76ee\u5f55\uff08\u53ea\u80fd\u72ec\u7acb\u6a21\u5757\u4f7f\u7528\uff0c\u5171\u4eab\u6a21\u5757\u4e0d\u80fd\u4f7f\u7528\uff09\x3cbr\x3e\u652f\u6301\u4e3b\u8868\u4efb\u4f55\u5b57\u6bb5\uff0c\u683c\u5f0f\uff1a{\u5b57\u6bb5\u540d}\uff0c\u5982\uff1a{name}\u8868\u793a\u680f\u76ee\u540d\u79f0\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_page(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dpage\x26id\x3d1\x3cbr\x3e\u5f62\u5982page/1.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: page/{id}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{id}   \u8868\u793aid\x3cbr\x3e{page}   \u8868\u793a\u5206\u9875\u53f7\x3cbr\x3e{dirname}   \u8868\u793a\u680f\u76ee\u76ee\u5f55\u540d\u79f0\x3cbr\x3e{pdirname}   \u5305\u542b\u7236\u7ea7\u5c42\u6b21\u7684\u76ee\u5f55\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_tag(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dtag\x26name\x3dguanjianci\x3cbr\x3e\u5f62\u5982tag/guanjianci.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: tag/{tag}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{tag}   \u8868\u793atag\u82f1\u6587\u540d\u79f0\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_search(){layer.alert("\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: index.php?s\x3dnews\x26c\x3dsearch\x3cbr\x3e\u5f62\u5982news/search.html \u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}/search.html\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{modname}\t\u8868\u793a\u5f53\u524d\u6a21\u5757\u76ee\u5f55\x3cbr\x3e",{shade:0,area:["50%","50%"],title:"",btn:[]})}function dr_url_module_search_page(){layer.alert('\x3cb\x3e\u4e3e\u4f8b\x3c/b\x3e\x3chr\x3e\u9ed8\u8ba4\u6a21\u5757\u5730\u5740: \x3cbr\x3eindex.php?s\x3dnews\x26c\x3dsearch\x26\u5b57\u6bb5\x3d\u503c\x3cbr\x3e\u5f62\u5982news/search/\u641c\u7d22\u53c2\u6570.html \x3cbr\x3e\u8fd9\u79cd\u5730\u5740\u683c\u5f0f\u4e3a: {modname}/search/{param}.html\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u901a\u914d\u7b26\x3c/b\x3e\x3chr\x3e{param}   \u8868\u793a\u641c\u7d22\u53c2\u6570\x3cbr\x3e{modname}  \u8868\u793a\u6a21\u5757\u76ee\u5f55\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e{\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u540d($data)}\t   \u8868\u793a\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\u6765\u5b9a\u4e49url\x3cbr\x3e\x3cbr\x3e\x3cbr\x3e\x3cb\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u4e3e\u4f8b(\u9700\u8981\u6709php\u5f00\u53d1\u7ecf\u9a8c)\x3c/b\x3e\x3chr\x3e\u81ea\u5b9a\u4e49\u51fd\u6570\u6587\u4ef6: /config/custom.php \x3cbr\x3e\u589e\u52a0\u4ee5\u4e0b\u51fd\u6570\u4f53:\x3cbr\x3efunction my_url($data) { return "\u4f60\u7684URL"; } // \u8fd9\u4e2a\u51fd\u6570\u5185\u5bb9\u4f60\u81ea\u5df1\u5b9a\u4e49\x3cbr\x3e\u90a3\u4e48\u4f60\u5c31\u586b\u5199: {my_url($data)}\x3cbr\x3e',{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_help(b){is_oemcms?dr_tips(1,"\u8bf7\u8054\u7cfb\u5f00\u53d1\u5546\uff1a"+is_oemcms):layer.open({type:2,title:'\x3ci class\x3d"fa fa-question-circle"\x3e\x3c/i\x3e \u5728\u7ebf\u5e2e\u52a9',shadeClose:!0,scrollbar:!1,shade:0,area:["80%","90%"],content:"https://www.xunruicms.com/index.php?s\x3ddoc\x26c\x3dshow\x26id\x3d"+b+"\x26is_phpcmf\x3dcms"})}function dr_search_help(){1==is_oemcms?dr_tips(1,"\u8bf7\u8054\u7cfb\u5f00\u53d1\u5546"):layer.open({type:2,title:'\x3ci class\x3d"fa fa-question-circle"\x3e\x3c/i\x3e \u5728\u7ebf\u5e2e\u52a9',shadeClose:!0,scrollbar:!1,shade:0,area:["80%","90%"],content:admin_file+"?c\x3dapi\x26m\x3dsearch_help\x26kw\x3d"+$("#mysearchform_kw").val()})}function dr_test_html_dir(b){$.ajax({type:"GET",dataType:"json",url:admin_file+"?c\x3dapi\x26m\x3dtest_dir\x26v\x3d"+encodeURIComponent($("#"+b).val()),success:function(b){dr_tips(b.code,b.msg)},error:function(b,a,f){dr_ajax_alert_error(b,this,f)}})}function dr_ajax_admin_alert_error(b,c,a){dr_ajax_alert_error(b,this,a)}(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(function(b){function c(a){a=d.json?JSON.stringify(a):String(a);return d.raw?a:encodeURIComponent(a)}function a(a,c){var g;if(d.raw)g=a;else a:{var h=a;0===h.indexOf('"')&&(h=h.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{h=decodeURIComponent(h.replace(f," "));g=d.json?JSON.parse(h):h;break a}catch(p){}g=void 0}return b.isFunction(c)?c(g):g}var f=/\+/g,d=b.cookie=function(g,f,k){if(1<arguments.length&&!b.isFunction(f)){k=b.extend({},d.defaults,k);if("number"===typeof k.expires){var h=k.expires,p=k.expires=new Date;p.setMilliseconds(p.getMilliseconds()+864E5*h)}return document.cookie=[d.raw?g:encodeURIComponent(g),"\x3d",c(f),k.expires?"; expires\x3d"+k.expires.toUTCString():"",k.path?"; path\x3d"+k.path:"",k.domain?"; domain\x3d"+k.domain:"",k.secure?"; secure":""].join("")}for(var h=g?void 0:{},p=document.cookie?document.cookie.split("; "):[],n=0,q=p.length;n<q;n++){var m=p[n].split("\x3d"),l;l=m.shift();l=d.raw?l:decodeURIComponent(l);m=m.join("\x3d");if(g===l){h=a(m,f);break}g||void 0===(m=a(m))||(h[l]=m)}return h};d.defaults={};b.removeCookie=function(a,d){b.cookie(a,"",b.extend({},d,{expires:-1}));return!b.cookie(a)}});var QuickSidebar=function(){var b=function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(a){$("body").toggleClass("page-quick-sidebar-open")})},c=function(){var a=$(".page-quick-sidebar-wrapper"),b=a.find(".page-quick-sidebar-chat"),c=function(){var c,d=a.find(".page-quick-sidebar-chat-users");c=a.height()-a.find(".nav-tabs").outerHeight(!0);App.destroySlimScroll(d);d.attr("data-height",c);App.initSlimScroll(d);d=b.find(".page-quick-sidebar-chat-user-messages");c-=b.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);c-=b.find(".page-quick-sidebar-nav").outerHeight(!0);App.destroySlimScroll(d);d.attr("data-height",c);App.initSlimScroll(d)};c();App.addResizeHandler(c);a.find(".page-quick-sidebar-chat-users .media-list \x3e .media").click(function(){b.addClass("page-quick-sidebar-content-item-shown")});a.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){b.removeClass("page-quick-sidebar-content-item-shown")});var f=function(a){a.preventDefault();var d=b.find(".page-quick-sidebar-chat-user-messages");a=b.find(".page-quick-sidebar-chat-user-form .form-control");var c=a.val();if(0!==c.length){var g=function(a,b,c,d,g){c="";return c+='\x3cdiv class\x3d"post '+a+'"\x3e',c+='\x3cimg class\x3d"avatar" alt\x3d"" src\x3d"'+Layout.getLayoutImgPath()+d+'.jpg"/\x3e',c+='\x3cdiv class\x3d"message"\x3e',c+='\x3cspan class\x3d"arrow"\x3e\x3c/span\x3e',c+='\x3ca href\x3d"#" class\x3d"name"\x3eBob Nilson\x3c/a\x3e\x26nbsp;',c+='\x3cspan class\x3d"datetime"\x3e'+b+"\x3c/span\x3e",c+='\x3cspan class\x3d"body"\x3e',c+=g,c+="\x3c/span\x3e",c+="\x3c/div\x3e",c+"\x3c/div\x3e"},f=new Date,c=g("out",f.getHours()+":"+f.getMinutes(),"Bob Nilson","avatar3",c),c=$(c);d.append(c);d.slimScroll({scrollTo:"1000000px"});a.val("");setTimeout(function(){var a=new Date,a=g("in",a.getHours()+":"+a.getMinutes(),"Ella Wong","avatar2","Lorem ipsum doloriam nibh..."),a=$(a);d.append(a);d.slimScroll({scrollTo:"1000000px"})},3E3)}};b.find(".page-quick-sidebar-chat-user-form .btn").click(f);b.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(a){return 13==a.which?(f(a),!1):void 0})},a=function(){var a=$(".page-quick-sidebar-wrapper"),b=function(){var b,c=a.find(".page-quick-sidebar-alerts-list");b=a.height()-a.find(".nav-justified \x3e .nav-tabs").outerHeight();App.destroySlimScroll(c);c.attr("data-height",b);App.initSlimScroll(c)};b();App.addResizeHandler(b)},f=function(){var a=$(".page-quick-sidebar-wrapper"),b=function(){var b,c=a.find(".page-quick-sidebar-settings-list");b=a.height()-80-a.find(".nav-justified \x3e .nav-tabs").outerHeight();App.destroySlimScroll(c);c.attr("data-height",b);App.initSlimScroll(c)};b();App.addResizeHandler(b)};return{init:function(){b();c();a();f()}}}();!1===App.isAngularJsApp()&&jQuery(document).ready(function(){QuickSidebar.init()});