var App=function(){var e,a=!1,t=[],r=function(){for(var e=0;e<t.length;e++){t[e].call()}},i=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},n=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(e){App.scrollTo($(e.target))})},o=function(){$(".tooltips").tooltip(),$(".portlet > .portlet-title .fullscreen").tooltip({trigger:"hover",container:"body",title:"Fullscreen"}),$(".portlet > .portlet-title > .tools > .reload").tooltip({trigger:"hover",container:"body",title:"Reload"}),$(".portlet > .portlet-title > .tools > .remove").tooltip({trigger:"hover",container:"body",title:"Remove"}),$(".portlet > .portlet-title > .tools > .config").tooltip({trigger:"hover",container:"body",title:"Settings"}),$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({trigger:"hover",container:"body",title:"Collapse/Expand"})},s=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(e){e.stopPropagation()})},l=function(){$(".popovers").popover(),$(document).on("click.bs.popover.data-api",function(a){e&&e.popover("hide")})},d=function(){App.initSlimScroll(".scroller")},c=function(){$("[data-auto-height]").each(function(){var e=$(this),a=$("[data-height]",e),t=0,r=e.attr("data-mode"),i=parseInt(e.attr("data-offset")?e.attr("data-offset"):0);a.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var e="base-height"==r?$(this).outerHeight():$(this).outerHeight(!0);e>t&&(t=e)}),t+=i,a.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",t):$(this).css("min-height",t)}),e.attr("data-related")&&$(e.attr("data-related")).css("height",e.height())})};return{init:function(){var e;"rtl"===$("body").css("direction")&&(a=!0),$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){r()},50)}),navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(e){$(this).scrollTop()>100?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)}):$(window).scroll(function(){$(this).scrollTop()>100?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)}),$(".scroll-to-top").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},500),!1}),function(){var e,a,t,r,i;$("body").on("click",".md-checkbox > label, .md-radio > label",function(){var e=$(this),a=$(this).children("span:first-child");a.addClass("inc");var t=a.clone(!0);a.before(t),$("."+a.attr("class")+":last",e).remove()}),$("body").hasClass("page-md")&&$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(n){0==(e=$(this)).find(".md-click-circle").length&&e.prepend("<span class='md-click-circle'></span>"),(a=e.find(".md-click-circle")).removeClass("md-click-animate"),a.height()||a.width()||(t=Math.max(e.outerWidth(),e.outerHeight()),a.css({height:t,width:t})),r=n.pageX-e.offset().left-a.width()/2,i=n.pageY-e.offset().top-a.height()/2,a.css({top:i+"px",left:r+"px"}).addClass("md-click-animate"),setTimeout(function(){a.remove()},1e3)});var n=function(e){""!=e.val()?e.addClass("edited"):e.removeClass("edited")};$("body").on("keydown",".form-md-floating-label .form-control",function(e){n($(this))}),$("body").on("blur",".form-md-floating-label .form-control",function(e){n($(this))}),$(".form-md-floating-label .form-control").each(function(){$(this).val().length>0&&$(this).addClass("edited")})}(),i(),d(),$("body").on("click",".portlet > .portlet-title .fullscreen",function(e){e.preventDefault();var a=$(this).closest(".portlet");if(a.hasClass("portlet-fullscreen"))$(this).removeClass("on"),a.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),a.children(".portlet-body").css("height","auto");else{var t=App.getViewPort().height-a.children(".portlet-title").outerHeight()-parseInt(a.children(".portlet-body").css("padding-top"))-parseInt(a.children(".portlet-body").css("padding-bottom"));$(this).addClass("on"),a.addClass("portlet-fullscreen"),$("body").addClass("page-portlet-fullscreen"),a.children(".portlet-body").css("height",t)}}),s(),function(){if(encodeURI(location.hash)){var e=encodeURI(location.hash.substr(1));$('a[href="#'+e+'"]').parents(".tab-pane:hidden").each(function(){var e=$(this).attr("id");$('a[href="#'+e+'"]').click()}),$('a[href="#'+e+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})}(),o(),l(),n(),"function"==typeof autosize&&autosize(document.querySelector("textarea.autosizeme")),$().counterUp&&$("[data-counter='counterup']").counterUp({delay:10,time:1e3}),this.addResizeHandler(c)},initAjax:function(){i(),$('[data-hover="dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),d(),s(),o(),l(),n()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(a){e=a},addResizeHandler:function(e){t.push(e)},runResizeHandlers:function(){r()},scrollTo:function(e,a){var t=e&&e.length>0?e.offset().top:0;e&&($("body").hasClass("page-header-fixed")?t-=$(".page-header").height():$("body").hasClass("page-header-top-fixed")?t-=$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(t-=$(".page-header-menu").height()),t+=a||-1*e.height()),$("html,body").animate({scrollTop:t},"slow")},initSlimScroll:function(e){$().slimScroll&&$(e).each(function(){var e;$(this).attr("data-initialized")||(e=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:a?"left":"right",height:e,alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0}),$(this).attr("data-initialized","1"))})},destroySlimScroll:function(e){$().slimScroll&&$(e).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized"),$(this).removeAttr("style");var e={};$(this).attr("data-handle-color")&&(e["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(e["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(e["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(e["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(e["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var a=$(this);$.each(e,function(e,t){a.attr(e,t)})}})},scrollTop:function(){App.scrollTo()},getActualVal:function(e){return(e=$(e)).val()===e.attr("placeholder")?"":e.val()},getURLParameter:function(e){var a,t,r=window.location.search.substring(1).split("&");for(a=0;a<r.length;a++)if((t=r[a].split("="))[0]==e)return unescape(t[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},getViewPort:function(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}},getUniqueID:function(e){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isRTL:function(){return a},isAngularJsApp:function(){return"undefined"!=typeof angular},getResponsiveBreakpoint:function(e){var a={xs:480,sm:768,md:992,lg:1200};return a[e]?a[e]:0}}}();jQuery(document).ready(function(){App.init()});var Layout=function(){var a=App.getResponsiveBreakpoint("md"),t=function(){},r=function(){var e,t=$(".page-sidebar-menu");0!==$(".page-sidebar-fixed").length&&(App.getViewPort().width>=a&&!$("body").hasClass("page-sidebar-menu-not-fixed")&&(t.attr("data-height",(e=App.getViewPort().height-$(".page-header").outerHeight(!0),$("body").hasClass("page-footer-fixed")&&(e-=$(".page-footer").outerHeight()),e)),App.destroySlimScroll(t),App.initSlimScroll(t)))};return{initSidebar:function(){r(),$(".page-sidebar-mobile-offcanvas .responsive-toggler").click(function(){$("body").toggleClass("page-sidebar-mobile-offcanvas-open"),e.preventDefault(),e.stopPropagation()}),$("body").hasClass("page-sidebar-mobile-offcanvas")&&$(document).on("click",function(e){$("body").hasClass("page-sidebar-mobile-offcanvas-open")&&0===$(e.target).closest(".page-sidebar-mobile-offcanvas .responsive-toggler").length&&0===$(e.target).closest(".page-sidebar-wrapper").length&&($("body").removeClass("page-sidebar-mobile-offcanvas-open"),e.preventDefault(),e.stopPropagation())}),$(".page-sidebar-menu").on("click","li > a.nav-toggle, li > a > span.nav-toggle",function(e){var t=$(this).closest(".nav-item").children(".nav-link");if(!(App.getViewPort().width>=a&&!$(".page-sidebar-menu").attr("data-initialized")&&$("body").hasClass("page-sidebar-closed")&&1===t.parent("li").parent(".page-sidebar-menu").length)){var r=t.next().hasClass("sub-menu");if(!(App.getViewPort().width>=a&&1===t.parents(".page-sidebar-menu-hover-submenu").length))if(!1!==r){var i=t.parent().parent(),n=t,o=$(".page-sidebar-menu"),s=t.next(),l=o.data("auto-scroll"),d=parseInt(o.data("slide-speed"));o.data("keep-expanded")||(i.children("li.open").children("a").children(".arrow").removeClass("open"),i.children("li.open").children(".sub-menu:not(.always-open)").slideUp(d),i.children("li.open").removeClass("open")),s.is(":visible")?($(".arrow",n).removeClass("open"),n.parent().removeClass("open"),s.slideUp(d,function(){!0===l&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?o.slimScroll({scrollTo:n.position().top}):App.scrollTo(n,-200))})):r&&($(".arrow",n).addClass("open"),n.parent().addClass("open"),s.slideDown(d,function(){!0===l&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?o.slimScroll({scrollTo:n.position().top}):App.scrollTo(n,-200))})),e.preventDefault()}else App.getViewPort().width<a&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click()}}),App.isAngularJsApp()&&$(".page-sidebar-menu li > a").on("click",function(e){App.getViewPort().width<a&&!1===$(this).next().hasClass("sub-menu")&&$(".page-header .responsive-toggler").click()}),$(".page-sidebar").on("click"," li > a.ajaxify",function(e){}),$(".page-content").on("click",".ajaxify",function(e){}),$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()}),$(".page-sidebar").on("click",".sidebar-search .remove",function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(e){if(13==e.which)return dr_search_help(),!1}),$(".sidebar-search .submit").on("click",function(e){dr_search_help()}),0!==$(".sidebar-search").length&&($(".sidebar-search .input-group").on("click",function(e){e.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")})),function(){if("undefined"!=typeof is_min&&1==is_min){var e=$("body");$.cookie&&"1"===$.cookie("sidebar_closed")&&App.getViewPort().width>=a&&($("body").addClass("page-sidebar-closed"),$(".page-sidebar-menu").addClass("page-sidebar-menu-closed")),$("body").on("click",".sidebar-toggler",function(a){var t=$(".page-sidebar"),r=$(".page-sidebar-menu");$(".sidebar-search",t).removeClass("open"),e.hasClass("page-sidebar-closed")?(e.removeClass("page-sidebar-closed"),r.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(e.addClass("page-sidebar-closed"),r.addClass("page-sidebar-menu-closed"),e.hasClass("page-sidebar-fixed")&&r.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1")),$(window).trigger("resize")})}}(),App.addResizeHandler(r)},initContent:function(){App.addResizeHandler(t)},init:function(){this.initSidebar(),this.initContent()},fixContentHeight:function(){},initFixedSidebar:function(){r()}}}();function dr_show_member(e){1==is_mobile_cms?width=height="90%":(width="50%",height="70%");var a=admin_file+"?c=api&m=member&name="+$("#dr_"+e).val();layer.open({type:2,title:'<i class="fa fa-user"></i> '+lang.member,shadeClose:!0,shade:0,scrollbar:!1,area:[width,width],success:function(e,a){dr_iframe_error(layer,a,0)},content:a+"&is_iframe=1"})}function dr_admin_menu_ajax(e,a){var t=layer.load(2,{shade:[.3,"#fff"],time:1e4});$.ajax({type:"GET",dataType:"json",url:e,success:function(e){if(layer.close(t),dr_tips(e.code,e.msg),1==e.code){if(a)return;setTimeout("window.location.reload(true)",2e3)}},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_update_cache(e,a){dr_update_cache_all()}function dr_load_ajax(e,a,t){layer.confirm(e,{icon:3,shade:0,title:lang.ts,btn:[lang.ok,lang.esc]},function(e){layer.close(e);e=layer.load(2,{shade:[.3,"#fff"],time:5e3});$.ajax({type:"GET",dataType:"json",url:a,success:function(a){layer.close(e),dr_tips(a.code,a.msg),1==t&&a.code>0&&setTimeout("window.location.reload(true)",2e3)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})})}function dr_install_confirm(e){"undefined"!=typeof is_oem_cms_down&&is_oem_cms_down?(window.opener=null,window.open("","_self"),window.close(),alert(dr_lang("请关闭当前窗口"))):layer.confirm(dr_lang("确定要刷新整个后台吗？"),{icon:3,shade:0,title:lang.ts,btn:[dr_lang("刷新后台"),dr_lang("直接进入")]},function(a){layer.close(a),parent.location.href=admin_file+"?go="+encodeURIComponent(e)},function(a){layer.close(a),e?window.location.href=e:window.location.reload(!0)})}function dr_install_app(e){var a=layer.load(2,{shade:[.3,"#fff"],time:5e4});$.ajax({type:"GET",dataType:"json",url:e,success:function(e){layer.close(a),dr_tips(e.code,e.msg),1==e.code&&setTimeout("dr_install_confirm('"+e.data.url+"')",2e3)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_install_module_select(e){layer.confirm(dr_lang("共享模块: 共用一个栏目，在栏目中选择模块")+"<br>"+dr_lang("独立模块: 独立栏目管理，在模块中选择栏目")+"<br>",{shade:0,title:dr_lang("安装选择"),btn:[dr_lang("独立"),dr_lang("共享")]},function(a){a=layer.load(2,{shade:[.3,"#fff"],time:5e4});$.ajax({type:"GET",dataType:"json",url:e+"&type=1",success:function(e){layer.close(a),dr_tips(e.code,e.msg),1==e.code&&setTimeout("dr_install_confirm('"+e.data.url+"')",2e3)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})},function(a){a=layer.load(2,{shade:[.3,"#fff"],time:5e4});$.ajax({type:"GET",dataType:"json",url:e+"&type=0",success:function(e){layer.close(a),dr_tips(e.code,e.msg),1==e.code&&setTimeout("dr_install_confirm('"+e.data.url+"')",2e3)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})})}function dr_install_module(e){layer.confirm(dr_lang("你确定要安装到当前站点吗？"),{shade:0,title:dr_lang("ts"),btn:[dr_lang("ok"),dr_lang("esc")]},function(a){a=layer.load(2,{shade:[.3,"#fff"],time:5e4});$.ajax({type:"GET",dataType:"json",url:e,success:function(e){layer.close(a),dr_tips(e.code,e.msg),1==e.code&&setTimeout("dr_install_confirm('"+e.data.url+"')",2e3)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})},function(e){})}function dr_module_send(e,a,t){var r="50%",i="60%";1==is_mobile_cms&&(r=i="90%"),a+="&"+$("#myform").serialize(),layer.open({type:2,title:e,shadeClose:!0,shade:0,area:[r,i],btn:[lang.ok],yes:function(r,i){var n=layer.getChildFrame("body",r);$(n).find(".form-group").removeClass("has-error");var o=layer.load(2,{shade:[.3,"#fff"],time:9999999});return $.ajax({type:"POST",dataType:"json",url:a,data:$(n).find("#myform").serialize(),success:function(a){if(layer.close(o),a.token){var i=a.token;$(n).find("#myform input[name='"+i.name+"']").val(i.value)}return 1==a.code?(layer.close(r),a.data.url?dr_iframe_show(e,a.data.url):t||setTimeout("window.location.reload(true)",2e3)):$(n).find("#dr_row_"+a.data.field).addClass("has-error"),dr_tips(a.code,a.msg),!1},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}}),!1},success:function(e,a){dr_iframe_error(layer,a,1)},content:a+"&is_iframe=1"})}function dr_module_send_ajax(e){e+="&"+$("#myform").serialize();var a=layer.load(2,{shade:[.3,"#fff"],time:1e4});$.ajax({type:"GET",dataType:"json",url:e,success:function(e){layer.close(a),dr_tips(e.code,e.msg),1==e.code&&setTimeout("window.location.reload(true)",2e3)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_ajax_open_close(e,a,t){var r=layer.load(2,{shade:[.3,"#fff"],time:5e3}),i=$(e);$.ajax({type:"GET",url:a,dataType:"json",success:function(e){layer.close(r),1==e.code&&(e.data.value==t?(i.attr("class","badge badge-no"),i.html('<i class="fa fa-times"></i>')):(i.attr("class","badge badge-yes"),i.html('<i class="fa fa-check"></i>'))),dr_tips(e.code,e.msg)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_bfb(e,a,t){layer.load(2,{shade:[.3,"#fff"],time:1e3}),layer.open({type:2,title:e,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(e,a){dr_iframe_error(layer,a,0)},content:t+"&"+$("#"+a).serialize(),cancel:function(e,a){var t=layer.getChildFrame("body",e);if("1"==$(t).find("#dr_check_status").val())return layer.confirm(dr_lang("关闭后将中断操作，是否确认关闭呢？"),{icon:3,shade:0,title:lang.ts,btn:[lang.ok,lang.esc]},function(e){layer.closeAll()}),!1}})}function dr_bfb_submit(e,a,t){layer.load(2,{shade:[.3,"#fff"],time:1e3}),$.ajax({type:"POST",dataType:"json",url:t,data:$("#"+a).serialize(),success:function(t){if(layer.closeAll("loading"),t.token){var r=t.token;$("#"+a+" input[name='"+r.name+"']").val(r.value)}return 1==t.code?layer.open({type:2,title:e,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(e,a){dr_iframe_error(layer,a,0)},content:t.data.url,cancel:function(e,a){var t=layer.getChildFrame("body",e);if("1"==$(t).find("#dr_check_status").val())return layer.confirm(dr_lang("关闭后将中断操作，是否确认关闭呢？"),{icon:3,shade:0,title:dr_lang("ts"),btn:[dr_lang("ok"),dr_lang("esc")]},function(e){layer.closeAll()}),!1}}):dr_tips(0,t.msg,9e4),!1},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_show_file_code(e,a){layer.load(2,{shade:[.3,"#fff"],time:1e3}),layer.open({type:2,title:e,scrollbar:!1,resize:!0,maxmin:!0,shade:0,area:["80%","80%"],success:function(e,a){layer.closeAll("loading")},content:a})}function dr_export(e,a){dr_tips(0,"此功能不可用")}function dr_submit_htmlfile(e,a){layer.load(2,{shade:[.3,"#fff"],time:1e3}),layer.open({type:2,title:lang.htmlfile,shadeClose:!0,shade:0,area:["480px","30%"],success:function(e,a){dr_iframe_error(layer,a,0)},content:a+"&"+$("#"+e).serialize()})}function dr_submit_todo(e,a){layer.load(2,{shade:[.3,"#fff"],time:1e3}),layer.open({type:2,title:lang.todoing,shadeClose:!0,shade:0,area:["480px","30%"],success:function(e,a){dr_iframe_error(layer,a,0)},content:a+"&"+$("#"+e).serialize()})}function dr_submit_post_todo(e,a){var t=layer.load(2,{shade:[.3,"#fff"],time:1e3});$.ajax({type:"POST",dataType:"json",url:a,data:$("#"+e).serialize(),success:function(a){if(layer.close(t),a.token){var r=a.token;$("#"+e+" input[name='"+r.name+"']").val(r.value)}return 1==a.code?dr_tips(1,a.msg):dr_tips(0,a.msg,9e4),!1},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_submit_sql_todo(e,a){var t=layer.load(2,{shade:[.3,"#fff"],time:1e3});$("#sql_result").html(" ... "),$.ajax({type:"POST",dataType:"json",url:a,data:$("#"+e).serialize(),success:function(a){if(layer.close(t),a.token){var r=a.token;$("#"+e+" input[name='"+r.name+"']").val(r.value)}return 1==a.code?$("#sql_result").html("<pre>"+a.msg+"</pre>"):$("#sql_result").html('<div class="alert alert-danger">'+a.msg+"</div>"),!1},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_call_alert(){dr_help(463)}function dr_seo_rule(){layer.alert(dr_lang("通用标签")+"<br>{join}\t"+dr_lang("SEO连接符号，默认是_")+"<br>[{page}]\t"+dr_lang("分页页码")+"<br>{SITE_NAME}\t"+dr_lang("网站名称")+"<br>"+dr_lang("支持表字段，格式：{字段名}")+" <br>"+dr_lang("例如：{title}表示标题")+"<br>"+dr_lang("支持网站系统常量，格式：{大写的常量名称}")+"<br>"+dr_lang("例如：{SITE_NAME}表示网站名称")+"<br>",{shade:0,title:"",btn:[]})}function dr_url_module_index(){layer.alert("<b>"+dr_lang("举例")+"</b><hr>"+dr_lang("默认地址")+": index.php?s=news<br>news.html ===> {modname}.html<br><br><br><b>"+dr_lang("通配符")+"</b><hr>{modname}\t"+dr_lang("表示当前模块目录")+"<br>",{shade:0,area:["50%","50%"],title:"",btn:[]})}function dr_url_module_show(){layer.alert("<b>"+dr_lang("举例")+"</b><hr>"+dr_lang("默认地址")+": <br>index.php?s=news&c=show&id=1<br>show/1.html ===> {modname}/{id}.html<br><br><b>"+dr_lang("通配符")+"</b><hr>{id}   "+dr_lang("表示id")+"<br>{y}   "+dr_lang("表示年")+"<br>{m}   "+dr_lang("表示月")+"<br>{d}   "+dr_lang("表示日")+"<br>{page}   "+dr_lang("表示分页号")+"<br>{dirname}   "+dr_lang("表示栏目目录名称")+"<br>{pdirname}   "+dr_lang("包含父级子级层次的目录")+"<br>{opdirname}   "+dr_lang("表示父级目录名称")+"<br>{otdirname}   "+dr_lang("表示顶级目录名称")+"<br>{modname}  "+dr_lang("表示模块目录")+"<br>",{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_list(){layer.alert("<b>"+dr_lang("举例")+"</b><hr>"+dr_lang("默认地址")+": <br>index.php?s=news&c=category&id=1<br>news/1.html ===> {dirname}/{id}.html<br><br><b>"+dr_lang("通配符")+"</b><hr>{id}   "+dr_lang("表示id")+"<br>{page}   "+dr_lang("表示分页号")+"<br>{dirname}   "+dr_lang("表示栏目目录名称")+"<br>{pdirname}   "+dr_lang("包含父级子级层次的目录")+"<br>{opdirname}   "+dr_lang("表示父级目录名称")+"<br>{otdirname}   "+dr_lang("表示顶级目录名称")+"<br>{modname}  "+dr_lang("表示模块目录")+"<br>",{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_page(){layer.alert("<b>"+dr_lang("举例")+"</b><hr>"+dr_lang("默认地址")+": <br>index.php?s=page&id=1<br>page/1.html ===> page/{id}.html<br><br><b>"+dr_lang("通配符")+"</b><hr>{id}   "+dr_lang("表示id")+"<br>{page}   "+dr_lang("表示分页号")+"<br>{dirname}   "+dr_lang("表示栏目目录名称")+"<br>{pdirname}   "+dr_lang("包含父级子级层次的目录")+"<br>",{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_url_module_search(){layer.alert("<b>"+dr_lang("举例")+"</b><hr>"+dr_lang("默认地址")+": index.php?s=news&c=search<br>news/search.html ===> {modname}/search.html<br><br><b>"+dr_lang("通配符")+"</b><hr>{modname}  "+dr_lang("表示模块目录")+"<br>",{shade:0,area:["50%","50%"],title:"",btn:[]})}function dr_url_module_search_page(){layer.alert("<b>"+dr_lang("举例")+"</b><hr>"+dr_lang("默认地址")+": <br>index.php?s=news&c=search&field=value<br>news/search/***.html ===> {modname}/search/{param}.html<br><br><b>"+dr_lang("通配符")+"</b><hr>{param}   "+dr_lang("表示搜索参数")+"<br>{modname}  "+dr_lang("表示模块目录")+"<br>",{shade:0,title:"",area:["50%","50%"],btn:[]})}function dr_sync_cache(e){$.ajax({type:"GET",dataType:"json",url:admin_file+"?c=api&m=cache_sync&page="+e,success:function(e){console.log(e.msg),0==e.code||0==e.data||dr_sync_cache(e.data)},error:function(e,a,t){}})}function dr_help(e){is_oemcms?dr_tips(1,dr_lang("请联系开发商")+"："+is_oemcms):layer.open({type:2,title:'<i class="fa fa-question-circle"></i>',shadeClose:!0,scrollbar:!1,shade:0,area:["80%","90%"],content:"https://www.xunruicms.com/index.php?s=doc&c=show&id="+e+"&is_phpcmf=cms"})}function dr_search_help(){1!=is_oemcms?layer.open({type:2,title:'<i class="fa fa-question-circle"></i>',shadeClose:!0,scrollbar:!1,shade:0,area:["80%","90%"],content:admin_file+"?c=api&m=search_help&kw="+$("#mysearchform_kw").val()}):dr_tips(1,dr_lang("请联系开发商"))}function dr_test_html_dir(e){$.ajax({type:"GET",dataType:"json",url:admin_file+"?c=api&m=test_dir&v="+encodeURIComponent($("#"+e).val()),success:function(e){dr_tips(e.code,e.msg)},error:function(e,a,t){dr_ajax_alert_error(e,this,t)}})}function dr_ajax_admin_alert_error(e,a,t){dr_ajax_alert_error(e,this,t)}
/*!
 * jQuery Cookie
 */!1===App.isAngularJsApp()&&jQuery(document).ready(function(){Layout.init()}),jQuery(document).ready(function(){if($(".onloading").click(function(){layer.load(2,{time:5e3})}),$(document).on("click",".fc_member_show",function(){var e=$(this).attr("uid"),a=$(this).attr("member"),t=admin_file+"?c=api&m=member&name="+a+"&uid="+e;1==is_mobile_cms?width=height="90%":(width="50%",height="70%"),layer.open({type:2,title:'<i class="fa fa-user"></i> '+lang.member,shadeClose:!0,shade:0,area:[width,width],success:function(e,a){dr_iframe_error(layer,a,0)},content:t+"&is_iframe=1"})}),$(document).on("click",".table td,.table th",function(){var e=$(this);if(1==dr_isEllipsis(e[0])){var a=e.html();if(-1!=a.indexOf("checkbox"))return;if(-1!=a.indexOf("<input"))return;if(-1!=a.indexOf('class="btn'));else if(-1!=a.indexOf('href="'))return;layer.tips(a,e,{tips:[1,"#fff"],time:5e3})}}),"undefined"!=typeof is_admin&&1==is_admin){var e,a=!1;window.onunloadcancel=function(){clearTimeout(e)},window.onbeforeunload=function(){if(a)return setTimeout(function(){e=setTimeout(onunloadcancel,0)},0),lang.unloadtips},$("[type='submit'], [type='button']").click(function(){a=!1}),$("select").change(function(){a=!0}),$(document).keydown(function(e){(e.keyCode>=40||0==e.keyCode)&&(a=!0),16!=e.keyCode&&82!=e.keyCode&&91!=e.keyCode||(a=!1)})}$(document).width()<900?($(".fc-all-menu-top").remove(),$(".fc-mini-menu-top").show(),$(".fc-list-select button").each(function(){var e=$(this).html();if(re=new RegExp(/<i class=\"(.+)\"(.+)/i),re.test(e)){var a=e.match(re);$(this).html('<i class="'+a[1]+'"></i>'),$(this).attr("title",a[2].replace("></i> ",""))}}),$('a[data-toggle="tab"]').each(function(){var e=$(this).html();if(re=new RegExp(/<i class=\"(.+)\"(.+)/i),re.test(e)){var a=e.match(re);$(this).html('<i class="'+a[1]+'"></i>'),$(this).attr("title",a[2].replace("></i> ",""))}}),$(".my-top-left").html('<div class="fc-mini-logo">'+$(".page-header-inner .page-logo").html()+"</div>")):($(".fc-all-menu-top").show(),$(".fc-mini-menu-top").remove())}),
    /*!
     * jQuery Cookie
     */
    function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var a=/\+/g;function t(e){return i.raw?e:encodeURIComponent(e)}function r(t,r){var n=i.raw?t:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),i.json?JSON.parse(e):e}catch(e){}}(t);return e.isFunction(r)?r(n):n}var i=e.cookie=function(a,n,o){if(arguments.length>1&&!e.isFunction(n)){if("number"==typeof(o=e.extend({},i.defaults,o)).expires){var s=o.expires,l=o.expires=new Date;l.setMilliseconds(l.getMilliseconds()+864e5*s)}return document.cookie=[t(a),"=",function(e){return t(i.json?JSON.stringify(e):String(e))}(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var d,c=a?void 0:{},p=document.cookie?document.cookie.split("; "):[],u=0,h=p.length;u<h;u++){var f=p[u].split("="),m=(d=f.shift(),i.raw?d:decodeURIComponent(d)),g=f.join("=");if(a===m){c=r(g,n);break}a||void 0===(g=r(g))||(c[m]=g)}return c};i.defaults={},e.removeCookie=function(a,t){return e.cookie(a,"",e.extend({},t,{expires:-1})),!e.cookie(a)}});
/*!
 * 后台右侧快捷栏
 */
var QuickSidebar={init:function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(e){$("body").toggleClass("page-quick-sidebar-open")}),function(){var e=$(".page-quick-sidebar-wrapper"),a=e.find(".page-quick-sidebar-chat"),t=function(){var t,r=e.find(".page-quick-sidebar-chat-users");t=e.height()-e.find(".nav-tabs").outerHeight(!0),App.destroySlimScroll(r),r.attr("data-height",t),App.initSlimScroll(r);var i=a.find(".page-quick-sidebar-chat-user-messages"),n=t-a.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);n-=a.find(".page-quick-sidebar-nav").outerHeight(!0),App.destroySlimScroll(i),i.attr("data-height",n),App.initSlimScroll(i)};t(),App.addResizeHandler(t),e.find(".page-quick-sidebar-chat-users .media-list > .media").click(function(){a.addClass("page-quick-sidebar-content-item-shown")}),e.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){a.removeClass("page-quick-sidebar-content-item-shown")});var r=function(e){e.preventDefault();var t=a.find(".page-quick-sidebar-chat-user-messages"),r=a.find(".page-quick-sidebar-chat-user-form .form-control"),i=r.val();if(0!==i.length){var n=function(e,a,t,r,i){var n="";return n+='<div class="post '+e+'">',n+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+r+'.jpg"/>',n+='<div class="message">',n+='<span class="arrow"></span>',n+='<a href="#" class="name">Bob Nilson</a>&nbsp;',n+='<span class="datetime">'+a+"</span>",n+='<span class="body">',n+=i,n+="</span>",(n+="</div>")+"</div>"},o=new Date,s=n("out",o.getHours()+":"+o.getMinutes(),0,"avatar3",i);s=$(s),t.append(s),t.slimScroll({scrollTo:"1000000px"}),r.val(""),setTimeout(function(){var e=new Date,a=n("in",e.getHours()+":"+e.getMinutes(),0,"avatar2","Lorem ipsum doloriam nibh...");a=$(a),t.append(a),t.slimScroll({scrollTo:"1000000px"})},3e3)}};a.find(".page-quick-sidebar-chat-user-form .btn").click(r),a.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(e){return 13==e.which?(r(e),!1):void 0})}(),function(){var e=$(".page-quick-sidebar-wrapper"),a=function(){var a,t=e.find(".page-quick-sidebar-alerts-list");a=e.height()-e.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(t),t.attr("data-height",a),App.initSlimScroll(t)};a(),App.addResizeHandler(a)}(),function(){var e=$(".page-quick-sidebar-wrapper"),a=function(){var a,t=e.find(".page-quick-sidebar-settings-list");a=e.height()-80-e.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(t),t.attr("data-height",a),App.initSlimScroll(t)};a(),App.addResizeHandler(a)}()}};!1===App.isAngularJsApp()&&jQuery(document).ready(function(){QuickSidebar.init()});